<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>å‘ on Moody&#39;s</title>
    <link>https://mooody.me/tags/%E5%9D%91/</link>
    <description>Recent content in å‘ on Moody&#39;s</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sat, 29 Apr 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://mooody.me/tags/%E5%9D%91/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>æˆ‘æ˜¯å¦‚ä½•èŠ±äº†ä¸€å¹´ä¹Ÿæ²¡å†™å‡ºä¸€ä¸ª OS çš„</title>
      <link>https://mooody.me/posts/2023-05/my-os-in-one-year/</link>
      <pubDate>Sat, 29 Apr 2023 00:00:00 +0000</pubDate>
      
      <guid>https://mooody.me/posts/2023-05/my-os-in-one-year/</guid>
      <description>&lt;p&gt;æœ¬æ–‡åŒ…å«å¤§é‡æš´è®ºï¼Œä¸å–œè½»å–·&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ä»å»å¹´ 7 æœˆ 7 å·çš„ &lt;a href=&#34;https://github.com/moodyhunter/MOS/commit/c3c498127db2c1c04ed3abe32d7902f562c09086&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;initial commit&lt;/a&gt;
åˆ°ç°åœ¨ 2023 å¹´ 4 æœˆ 29 æ—¥å·²ç»è¿‡å»å¿«ä¸€å¹´äº†ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸€å¹´é‡Œï¼ŒMOS æ”¯æŒäº†å¾ˆå¤šåŠŸèƒ½ï¼Œä½†åˆæœ‰æ›´å¤šæ²¡æœ‰å®ç°çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;del&gt;è°¨æ­¤æ–‡é¢å‘è¯»è€…åæ§½ä¸€ä¸‹&lt;/del&gt;&lt;/p&gt;
&lt;h2 id=&#34;1-ä»-bootloader-å¼€å§‹&#34;&gt;
  1. ä» Bootloader å¼€å§‹
  &lt;a class=&#34;heading-link&#34; href=&#34;#1-%e4%bb%8e-bootloader-%e5%bc%80%e5%a7%8b&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;2023 å¹´äº†è°å†™ kernel è¿˜ä»å®æ¨¡å¼å¼•å¯¼æ‰‡åŒºå¼€å§‹å†™ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åªèƒ½è¯´éƒ¨åˆ†æ•™ç¨‹è¿‡åˆ†é™ˆæ—§ï¼Œæˆ–è€…å°±æ˜¯æ‹˜æ³¥äº x86 çš„ä¼ ç»Ÿä¸æ„¿æ”¹å˜ï¼Œ&lt;/li&gt;
&lt;li&gt;x86 ä»å®æ¨¡å¼å¯åŠ¨åˆ°ä¿æŠ¤æ¨¡å¼æœ€ç»ˆåˆ‡é•¿æ¨¡å¼è¿™ä¸ªè¿‡ç¨‹å®Œå…¨å°±åº”è¯¥æœ‰æ ‡å‡†çš„è§„èŒƒï¼Œè€Œä¸æ˜¯è¦è‡ªå·±é€ è½®å­
&lt;ul&gt;
&lt;li&gt;è°æ„¿å†™ GDTï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é„™äººè®¤ä¸ºå¼•å¯¼æ‰‡åŒºé‡Œçš„ä»£ç å°±ä¸è¦æ‹¿å‡ºæ¥å½“åš kernel è®²&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-æ²‰è¿·-x86-æ— æ³•è‡ªæ‹”&#34;&gt;
  2. æ²‰è¿· x86 æ— æ³•è‡ªæ‹”
  &lt;a class=&#34;heading-link&#34; href=&#34;#2-%e6%b2%89%e8%bf%b7-x86-%e6%97%a0%e6%b3%95%e8%87%aa%e6%8b%94&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Please no,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;BIOS / EBDAï¼šï¼Ÿï¼Ÿï¼Ÿexmï¼Ÿï¼Ÿï¼Ÿ æ‰¾è¿™ä¿©ä¸œè¥¿è¿˜è¦å»ä»å†…å­˜é‡Œæœç´¢ magic string&lt;/li&gt;
&lt;li&gt;ç¥ç§˜çš„ Serial COM Port IO ï¿½ï¿½&lt;/li&gt;
&lt;li&gt;é…å¥½äº† PIC ä½†æ˜¯è¿˜æ˜¯è¦å»é… APIC&lt;/li&gt;
&lt;li&gt;Segmentationï¼šæ²¡ç”¨ï¼Œä½†æ˜¯ç”¨äº†
&lt;ul&gt;
&lt;li&gt;çœ‹çœ‹ä½ çš„ cs ä½ä¸¤ä½æ˜¯ä»€ä¹ˆä¸œè¥¿&lt;/li&gt;
&lt;li&gt;çœ‹çœ‹ä½ çš„ &lt;code&gt;fsbase&lt;/code&gt; / &lt;code&gt;gsbase&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;APICï¼Œä½†æ˜¯ x2APIC&lt;/li&gt;
&lt;li&gt;RSDTï¼Œä½†æ˜¯ XSDT
&lt;ul&gt;
&lt;li&gt;é‚£å¦‚æœæˆ‘æ²¡ PAEï¼Œé‚£æˆ‘æ€ä¹ˆè®¿é—® XSDTï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;SMPï¼šå“ˆå“ˆå“ˆä½ éšä¾¿ IPI èƒ½å¯åŠ¨èµ·æ¥ç®—æˆ‘è¾“
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;APIC_DELIVER_MODE_INITï¼Œç„¶å&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç¡ 50msï¼Œç„¶å&lt;/li&gt;
&lt;li&gt;&lt;code&gt;APIC_DELIVER_MODE_INIT_DEASSERTï¼Œç„¶å&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å†ç¡ 50msï¼Œå†ç„¶å&lt;/li&gt;
&lt;li&gt;&lt;code&gt;APIC_DELIVER_MODE_STARTUPï¼Œç„¶å&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç¡ 50msï¼Œç„¶å&lt;/li&gt;
&lt;li&gt;åˆå‘ä¸€é &lt;code&gt;APIC_DELIVER_MODE_STARTUPï¼Ÿ&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä½ ä¸­æ–­å’Œå¼‚å¸¸ä¸€å¼€å§‹é»åœ¨ä¸€èµ·å°±ç®—äº†ï¼Œè¿˜è¦æˆ‘è‡ªå·±å»åˆ†å¼€ï¼Ÿ&lt;/li&gt;
&lt;li&gt;ACPIï¼šAML è¯­è¨€çš„ parser ä¼¼ä¹åªæœ‰ä¸¤ä¸ª&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-é‡é€ -path-resolver&#34;&gt;
  3. é‡é€  path resolver
  &lt;a class=&#34;heading-link&#34; href=&#34;#3-%e9%87%8d%e9%80%a0-path-resolver&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;æ—©æœŸå†™çš„ path resolution å®Œå…¨æ˜¯é”™è¯¯çš„ï¼Œç›´åˆ°åæ¥è¦æ”¯æŒ symlink æ‰å‘ç°å¤§é‡é—®é¢˜&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½†æ˜¯è¿™ç§æƒ…å†µä¸‹çš„ refcount çœŸçš„å¥½éš¾åš&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;4-ç‰©ç†å†…å­˜åˆ†é…&#34;&gt;
  4. ç‰©ç†å†…å­˜åˆ†é…
  &lt;a class=&#34;heading-link&#34; href=&#34;#4-%e7%89%a9%e7%90%86%e5%86%85%e5%ad%98%e5%88%86%e9%85%8d&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;ç‰©ç†å†…å­˜è¢«è¡¨ç¤ºä¸º &lt;code&gt;pmlist_node_t&lt;/code&gt;ï¼Œä½†æ˜¯è¦åˆ†é…è¿™ä¸ªç»“æ„ä½“è¿˜éœ€è¦åˆ†é…å†…å­˜ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜&lt;/p&gt;
&lt;p&gt;å’‹åŠå‘¢&lt;/p&gt;
&lt;h2 id=&#34;5-æ—¶é—´ä¸å¤Ÿ&#34;&gt;
  5. æ—¶é—´ä¸å¤Ÿ
  &lt;a class=&#34;heading-link&#34; href=&#34;#5-%e6%97%b6%e9%97%b4%e4%b8%8d%e5%a4%9f&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;å—¯&lt;/p&gt;
&lt;h2 id=&#34;6-æ²¡äº†&#34;&gt;
  6. æ²¡äº†
  &lt;a class=&#34;heading-link&#34; href=&#34;#6-%e6%b2%a1%e4%ba%86&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;span class=&#34;spoiler&#34; title=&#34;ä½ çŸ¥é“çš„å¤ªå¤šäº†&#34;
  &gt;ä½ çœ‹å‡ºæ¥æˆ‘å°±æ˜¯æƒ³åæ§½ x86 äº†å—&lt;/span
&gt;
</description>
    </item>
    
    <item>
      <title>çŒ«é¼ æ¸¸æˆ â€”â€” å¤§æˆ˜ Lloyds Bank App</title>
      <link>https://mooody.me/posts/2022-12/me-vs-the-lloyds-bank-app/</link>
      <pubDate>Sat, 24 Dec 2022 00:00:00 +0000</pubDate>
      
      <guid>https://mooody.me/posts/2022-12/me-vs-the-lloyds-bank-app/</guid>
      <description>&lt;h1 id=&#34;çŒ«é¼ æ¸¸æˆ-æµæ°´è´¦&#34;&gt;
  &amp;ldquo;çŒ«é¼ æ¸¸æˆ&amp;rdquo; æµæ°´è´¦
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e7%8c%ab%e9%bc%a0%e6%b8%b8%e6%88%8f-%e6%b5%81%e6%b0%b4%e8%b4%a6&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;è‡ªä»ç»™æ‰‹æœºè§£é” bootloader å¹¶å¯ç”¨ root æƒé™ä¹‹åï¼Œå’±çš„å¿ƒæ™ºè´Ÿæ‹…å°±æ¯å†µæ„ˆä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸çŸ¥é“å“ªæ¬¡ä»€ä¹ˆ App å‡çº§äº†æ–°å‹ &lt;span class=&#34;spoiler&#34; title=&#34;ä½ çŸ¥é“çš„å¤ªå¤šäº†&#34;
  &gt;ç”µä¿¡è¯ˆéª—&lt;/span
&gt;(&lt;span class=&#34;spoiler&#34; title=&#34;ä½ çŸ¥é“çš„å¤ªå¤šäº†&#34;
  &gt;root&lt;/span
&gt;) æ£€æµ‹æœºåˆ¶ï¼Œ
åˆå¾—èŠ±æ—¶é—´æ’é”™ï¼ˆ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;App æ›´æ–°æ£€æµ‹æœºåˆ¶ï¼›Root æ¡†æ¶è¿›è¡Œä¿®è¡¥ï¼›App å†æ¬¡æ›´æ–°ï¼›æ¡†æ¶å†æ¬¡ä¿®è¡¥â€¦â€¦&lt;/p&gt;
&lt;p&gt;è¿™ä¼¼ä¹æˆäº†ä¸€ä¸ªéš¾ä»¥ç ´è§£çš„æ­»å¾ªç¯ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ï¼Œäº‹æƒ…åˆæ¥äº†â€¦â€¦&lt;/p&gt;
&lt;h2 id=&#34;é’±é’±&#34;&gt;
  é’±é’±
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e9%92%b1%e9%92%b1&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;å‡ å‘¨å‰ï¼Œ&lt;del&gt;å› ä¸ºæ²¡é’±åƒé¥­&lt;/del&gt;ï¼Œæˆ‘æ‰“å¼€äº† Lloyds bank çš„æ‰‹æœº app æŸ¥çœ‹ä½™é¢ï¼Œç»“æœå‡ºç°äº†ä¸€è¡Œå¤§å­—ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Sorry, you can&amp;rsquo;t use this app as we&amp;rsquo;ve detected that your device has been kailbroken/rooted.
You can still use our Mobile Banking or Internet Banking sites via your web browser.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯„äº†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ç©·é€”æœ«è·¯ï¼ŒGoogle ä¸Šæœä¹Ÿæ²¡æœåˆ°ç»“æœã€‚äºæ˜¯å¼€å§‹èƒ¡ä¹±å°è¯•ï¼š&lt;/p&gt;
&lt;h2 id=&#34;1-åˆ äº†-magisk&#34;&gt;
  1. åˆ äº† Magisk
  &lt;a class=&#34;heading-link&#34; href=&#34;#1-%e5%88%a0%e4%ba%86-magisk&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;åˆ æ‰ Magisk åè§‚æµ‹åˆ° app å¯ä»¥æ­£å¸¸æ‰“å¼€ï¼Œä½†è¿™æ ¹æœ¬ä¸åœ¨æˆ‘çš„å¯é€‰è§£å†³æ–¹æ¡ˆå†…ã€‚æˆ‘ç”¨äº† &lt;code&gt;MagiskHide Prop Config&lt;/code&gt; æ¢äº†è®¾å¤‡
çš„ fingerprintï¼ˆä¸ç„¶ Google Pay ç”¨ä¸äº†ï¼‰ï¼Œå¦‚æœæ•´ä¸ª Magisk å¸è½½çš„è¯&lt;del&gt;å’±å°±æ›´æ²¡æ³•åƒé¥­äº†&lt;/del&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-åˆæŠŠ-magisk-è£…å›æ¥&#34;&gt;
  2. åˆæŠŠ Magisk è£…å›æ¥
  &lt;a class=&#34;heading-link&#34; href=&#34;#2-%e5%8f%88%e6%8a%8a-magisk-%e8%a3%85%e5%9b%9e%e6%9d%a5&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Banking App å¯ä»¥æ²¡æœ‰ï¼Œä½†æ˜¯ root å’Œ Google Pay ä¸èƒ½ã€‚æ‰€ä»¥æˆ‘åˆæŠŠ Magisk è£…å›æ¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™æœŸé—´å°±æ²¡æ€ä¹ˆç®¡å®ƒï¼Œç›´åˆ°ä»Šå¤©ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-shamiko&#34;&gt;
  3. Shamiko
  &lt;a class=&#34;heading-link&#34; href=&#34;#3-shamiko&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;ç»è¿‡ä¸æœ‹å‹çš„äº¤è°ˆï¼Œå‘ç°äº† Shamikoã€‚æ®è¯´èƒ½ &lt;strong&gt;&lt;em&gt;Hide more trace of Zygisk&lt;/em&gt;&lt;/strong&gt;ã€‚ä¸è¿‡å› ä¸ºæ˜¯é—­æºçš„ï¼Œé‚£ä½æœ‹å‹è‡ªå·±æ²¡å°è¯•è¿‡ï¼Œ
åªæ˜¯åœ¨äº¤è°ˆä¸­æåŠäº†ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ç»“æœé…ç½®äº† Shamiko åå‘ç°ä»ç„¶ app æ— æ³•æ­£å¸¸å·¥ä½œã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-island-insular&#34;&gt;
  4. Island (Insular)
  &lt;a class=&#34;heading-link&#34; href=&#34;#4-island-insular&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;è¿™ç©æ„å¼€äº†ä¸ªæ²™ç›’ï¼Œå¯ä»¥ç»™æŒ‡å®šçš„ Apps æ„é€ ç‹¬ç«‹çš„è¿è¡Œç¯å¢ƒã€‚å¯æƒœç»è¿‡äº†å‡ æ¬¡å°è¯•ï¼Œæ²¡èƒ½æˆåŠŸå¯åŠ¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;5-å†»ç»“é‡å‘½ååçš„-magisk-app&#34;&gt;
  5. å†»ç»“é‡å‘½ååçš„ Magisk App
  &lt;a class=&#34;heading-link&#34; href=&#34;#5-%e5%86%bb%e7%bb%93%e9%87%8d%e5%91%bd%e5%90%8d%e5%90%8e%e7%9a%84-magisk-app&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;XDA forum é‡Œæœ‰æ¨èå†»ç»“ä½ Magisk Managerï¼Œä½†æµ‹è¯•è¿‡åä»æœªæœã€‚&lt;/p&gt;
&lt;h2 id=&#34;6-hide-my-applist&#34;&gt;
  6. Hide My Applist
  &lt;a class=&#34;heading-link&#34; href=&#34;#6-hide-my-applist&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;æ–°çš„æ›™å…‰å‡ºç°äº†ï¼&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://forum.xda-developers.com/t/how-to-bypass-lloyds-and-santander-root-detection.3837206/post-87849927&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://forum.xda-developers.com/t/how-to-bypass-lloyds-and-santander-root-detection.3837206/post-87849927&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å°±åœ¨ Dec 12 ï¼ˆä¸€å‘¨å‰ï¼‰ï¼Œæœ‰äººæˆåŠŸä½¿ç”¨ &lt;code&gt;Hide My Applist&lt;/code&gt; ä¿®å¤äº†è¿™ä¸ªé—®é¢˜ï¼Œé‚£æˆ‘ä¹Ÿæ¥è¯•è¯•ã€‚&lt;/p&gt;
&lt;p&gt;å‘ç°ä»ç„¶ä¸è¡Œã€‚&lt;/p&gt;
&lt;h2 id=&#34;7-ä»ç„¶æ˜¯-hide-my-applist&#34;&gt;
  7. ä»ç„¶æ˜¯ Hide My Applist
  &lt;a class=&#34;heading-link&#34; href=&#34;#7-%e4%bb%8d%e7%84%b6%e6%98%af-hide-my-applist&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;åœ¨ä»”ç»†ç ”ç©¶äº†å®ƒçš„ Hide My Applist é…ç½®ä»¥åï¼Œæˆ‘å‘ç°ä»–ç”¨çš„æ˜¯ blacklist æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯ä»…ä» applist é‡Œç§»é™¤æŸäº› appsï¼Œ
å’±é—²æ¥æ— äº‹ï¼Œå°±æƒ³ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘ tm å¹²è„†ç»™ä½ æ•´ä¸ªç™½åå•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;äºæ˜¯æŠŠ Lloyds Bank å¯¹åº”çš„è§„åˆ™æ”¹ä¸ºäº†ç™½åå•æ¨¡å¼ï¼Œä»…è®©å…¶èƒ½æ£€æµ‹åˆ°ä¸€äº›ç³»ç»Ÿåº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;é‡å¯æ‰‹æœºï¼Œå‘ç°ç«Ÿç„¶èƒ½æ‰“å¼€äº†ï¼&lt;/p&gt;
&lt;h2 id=&#34;æ”¶å°¾&#34;&gt;
  æ”¶å°¾
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e6%94%b6%e5%b0%be&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Lloyds Bank åœ¨æœ¬æœˆ 8 å·å‘äº†ä¸€ä¸ª&lt;a href=&#34;https://www.apkmirror.com/apk/lloyds-banking-group-plc/lloyds-bank-mobile-banking/&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æ–°ç‰ˆ&lt;/a&gt;ï¼Œ
åæ›° 104.03ã€‚å°±æ˜¯è¿™ä¸ªç‰ˆæœ¬ä»–ä»¬ &lt;em&gt;&amp;ldquo;fixed some bugs and added &lt;strong&gt;security updates&lt;/strong&gt;.&amp;rdquo;&lt;/em&gt; å¯¼è‡´ app æ‰“ä¸å¼€ã€‚&lt;/p&gt;
&lt;p&gt;è‡³äºä¸ºä»€ä¹ˆæ”¹æˆç™½åå•å°±èƒ½æ­£å¸¸å·¥ä½œâ€¦â€¦ä¼°è®¡æ˜¯è¿˜æ–°å¢æ£€æµ‹äº†ä¸€äº›åˆ«çš„åº”ç”¨å§ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;ä¸ç®¡æ€ä¹ˆè¯´ï¼Œæˆ‘ç»ˆäºèƒ½çœ‹åˆ°æˆ‘çš„ä¸ªä½æ•°ä½™é¢äº†&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æŠŠ Magisk Manager é‡å‘½åæˆäº† Bankï¼Œè®°å½•æ­¤æ¬¡äº‹ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;home&#34; src=&#34;./home.png&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ä¸ Wayland çš„ç¬¬ N&#43;2 æ¬¡äº²å¯†äº’åŠ¨</title>
      <link>https://mooody.me/posts/2022-10/me-vs-wayland-2/</link>
      <pubDate>Tue, 04 Oct 2022 00:00:00 +0000</pubDate>
      
      <guid>https://mooody.me/posts/2022-10/me-vs-wayland-2/</guid>
      <description>&lt;h1 id=&#34;åˆä¸€ç¯‡-wayland-æ°´æ–‡&#34;&gt;
  åˆä¸€ç¯‡ Wayland æ°´æ–‡
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e5%8f%88%e4%b8%80%e7%af%87-wayland-%e6%b0%b4%e6%96%87&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;ä» X11 ï¼ˆå†æ¬¡ï¼‰è¿ç§»åˆ° Wayland å·²ç»ä¸¤ä¸‰å‘¨äº†ï¼Œè¿™æ¬¡æ˜¯çœŸçš„ä¸æ„¿å›å»äº†&lt;/p&gt;
&lt;h2 id=&#34;ç›¸æ¯”äºä¸Šæ¬¡çš„æ›´æ–°&#34;&gt;
  ç›¸æ¯”äºä¸Šæ¬¡çš„æ›´æ–°
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e7%9b%b8%e6%af%94%e4%ba%8e%e4%b8%8a%e6%ac%a1%e7%9a%84%e6%9b%b4%e6%96%b0&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;krunner ä¸ä¼šè«åå…¶å¦™æ— æ³•å¯åŠ¨äº†&lt;/li&gt;
&lt;li&gt;å¾®ä¿¡å·²ç»å¯ä»¥ä» Wayland ä¸‹çš„ Dolphin æ‹–åŠ¨æ–‡ä»¶åˆ°èŠå¤©çª—å£äº†ï¼ˆä¸çŸ¥é“æ˜¯ wine è¿˜æ˜¯ KDE çš„ creditï¼‰&lt;/li&gt;
&lt;li&gt;VSCode / VMWare å±å¹•ä¸ä¼šé—ªçƒäº†&lt;/li&gt;
&lt;li&gt;Global Application Menu å·²ç»å¯ä»¥ä½¿ç”¨ Meta é”®è°ƒå‡º&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;wayland-ä¸‹çš„å…¶ä»–é—®é¢˜&#34;&gt;
  Wayland ä¸‹çš„å…¶ä»–é—®é¢˜
  &lt;a class=&#34;heading-link&#34; href=&#34;#wayland-%e4%b8%8b%e7%9a%84%e5%85%b6%e4%bb%96%e9%97%ae%e9%a2%98&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;latte-dock å·²ç»ä¸åƒä¹‹å‰é‚£æ ·æ— æ³•å¯åŠ¨äº†ï¼Œä½†å¶å°”ä¼šå‡ºç° coredumpï¼Œç›®å‰è¿˜ä¸çŸ¥é“åŸå› &lt;/li&gt;
&lt;li&gt;Flameshot ä»ç„¶æ— æ³•æˆªå›¾&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä»¥åŠå°è®°ä¸€æ¬¡-debug-kwin&#34;&gt;
  ä»¥åŠâ€¦â€¦å°è®°ä¸€æ¬¡ debug kwin
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e4%bb%a5%e5%8f%8a%e5%b0%8f%e8%ae%b0%e4%b8%80%e6%ac%a1-debug-kwin&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;æˆ‘çš„å±å¹•å¸ƒå±€:&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;screen_layout&#34; src=&#34;https://mooody.me/posts/2022-10/me-vs-wayland-2/screen-layout.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºæ–¹ä¾¿èµ·è§ï¼Œå°†å±å¹•ä»å·¦åˆ°å³ï¼Œä»ä¸Šåˆ°ä¸‹ä¾æ¬¡ç¼–å·ä¸º 1ã€2ã€3ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ASUSTek: 1&lt;/li&gt;
&lt;li&gt;Arzopa 4K: 2&lt;/li&gt;
&lt;li&gt;å†…ç½®å±: 3&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸Šå›¾å¯è§ Arzopa å±å¹•æ˜¯é«˜åˆ†å±ï¼Œè‡ªä»åˆ‡æ¢åˆ° Wayland åæˆ‘åœ¨ KDE çš„è®¾ç½®ä¸­å°†å…¶ç¼©æ”¾ä¸º 200%ã€‚ä½†åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜ï¼Œè§ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;screen-border&#34; src=&#34;https://mooody.me/posts/2022-10/me-vs-wayland-2/screen-border.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;åªæœ‰ Qt çª—å£åœ¨æ·±çº¢è‰²åŒºåŸŸæ—¶ï¼Œæ‰ä¼šè¢«ç»˜åˆ¶ä¸º HiDPI çš„æ ·å­ï¼Œè€Œåœ¨å·¦ä¸‹è§’åŒºåŸŸï¼ˆä½†å¹¶æœªå‡ºå±å¹•èŒƒå›´ï¼‰çš„çª—å£åˆ™ä¼šä½¿ç”¨ 1080p æ¸²æŸ“ï¼Œå¹¶è¿›è¡Œ 2x ç¼©æ”¾ï¼Œå¯¼è‡´æ¨¡ç³Šã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®šä½é—®é¢˜&#34;&gt;
  å®šä½é—®é¢˜
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e5%ae%9a%e4%bd%8d%e9%97%ae%e9%a2%98&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä½¿ç”¨çš„æ˜¯ Qt ä¸ GTK ç¨‹åºæ¸²æŸ“çš„å¯¹æ¯”ï¼Œå‘ç°åªæœ‰ Qt ç¨‹åºä¼šåœ¨ã€Œçª—å£å®Œå…¨è¿›å…¥é«˜åˆ†å±åã€æ‰ä½¿ç”¨ HiDPI æ¸²æŸ“ã€‚ç›¸æ¯”ä¹‹ä¸‹ GTK ç¨‹åºçš„è¡Œä¸ºæ˜¯ï¼šåªè¦
çª—å£çš„ä»»æ„ä¸€éƒ¨åˆ†è¿›å…¥é«˜åˆ†å±ï¼Œå°±ä¼šä½¿ç”¨ HiDPI æ¸²æŸ“ï¼Œå…¶ä»–æœªåœ¨é«˜åˆ†å±ä¸Šçš„éƒ¨åˆ†ï¼Œä»ç„¶ä½¿ç”¨ HiDPI æ¸²æŸ“ï¼Œä½†è¿›è¡Œ down scaleã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘é¦–å…ˆæ€€ç–‘æ˜¯ Qt çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ç»è¿‡ä»ä¸“ä¸šç¾¤å‹ c10s å¤„è¿›è¡Œæ·±åº¦å­¦ä¹ åï¼Œæˆ‘å¾—çŸ¥äº†å¯ä»¥ä½¿ç”¨ &lt;code&gt;WAYLAND_DEBUG=1&lt;/code&gt; æ¥å¼€å¯ Wayland çš„ debug ä¿¡æ¯ã€‚äºæ˜¯å…ˆä½¿ç”¨
&lt;code&gt;WAYLAND_DEBUG=1 konsole&lt;/code&gt; å¯¹ Konsole çª—å£è¿›è¡Œ debugã€‚&lt;/p&gt;
&lt;p&gt;éšåæˆ‘å‘ç°ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;wl_output-border&#34; src=&#34;https://mooody.me/posts/2022-10/me-vs-wayland-2/wl_output-border.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ³¨ï¼šä»…åˆ—å‡ºäº†éƒ¨åˆ†è¾¹ç•Œå¤„çš„ wayland ä¿¡æ¯ï¼Œ&lt;del&gt;é—®å·å¤„ä¸é‡è¦&lt;/del&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ï¼šï¼ˆæ•°å­—ä»£è¡¨ &lt;code&gt;wl_output&lt;/code&gt; åŒºåŸŸï¼Œç†è®ºä¸Š &lt;code&gt;wl_output&lt;/code&gt; ä»£è¡¨ä¸€ä¸ªå±å¹•ï¼‰&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;&lt;em&gt;N&lt;/em&gt;&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;+ 1&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;+ 2&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;+ 3&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;+ 4&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;+ 5&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;+ 6&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;00&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç¦» 1&lt;/td&gt;
&lt;td&gt;è¿› 1&lt;/td&gt;
&lt;td&gt;è¿› 1&lt;/td&gt;
&lt;td&gt;ç¦» 1&lt;/td&gt;
&lt;td&gt;ç¦» 3 / è¿› 2&lt;/td&gt;
&lt;td&gt;ç¦» 2 / è¿› 3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;06&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç¦» 1&lt;/td&gt;
&lt;td&gt;è¿› 1&lt;/td&gt;
&lt;td&gt;è¿› 1&lt;/td&gt;
&lt;td&gt;ç¦» 1&lt;/td&gt;
&lt;td&gt;ç¦» 2&lt;/td&gt;
&lt;td&gt;è¿› 2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;12&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è¿› 1&lt;/td&gt;
&lt;td&gt;ç¦» 1&lt;/td&gt;
&lt;td&gt;ç¦» 3&lt;/td&gt;
&lt;td&gt;è¿› 3&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;æ ¹æ®ä¸Šè¡¨ç°è±¡è®¡ç®—ï¼Œä¼šå¾—å‡ºä¸€äº›å¾ˆæœ‰æ„æ€çš„ç°è±¡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;14ã€15 åŒºåŸŸå†…ï¼Œçª—å£ä¸å±äºä»»ä½•å±å¹•ï¼ˆè¿™ä¸åº”è¯¥ï¼‰&lt;/li&gt;
&lt;li&gt;2ã€3ã€12 åŒºåŸŸå†…ï¼Œçª—å£å±äº 1ã€2 ä¸¤ä¸ªå±å¹•ï¼ˆè¿™ä¹Ÿä¸åº”è¯¥ï¼‰&lt;/li&gt;
&lt;li&gt;8ã€9 å°çŸ©å½¢åŒºåŸŸå†…ï¼Œçª—å£å±äº 1ã€3 ä¸¤ä¸ªå±å¹•ï¼ˆè¿™æ›´ä¸åº”è¯¥ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç”±æ­¤å¯è§ï¼ŒWayland æ··æˆå™¨å‘é€çš„æ˜¯é”™è¯¯çš„ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡è¾¹ç•Œçš„å¤§æ¦‚ä½ç½®å¯ä»¥çœ‹å‡ºï¼škwin åœ¨åˆ¤æ–­çª—å£ä¸å±å¹• intersection æ—¶ç–‘ä¼¼å¿˜è®°è®¡ç®—å±å¹•æœå‘äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä¿®å¤é—®é¢˜&#34;&gt;
  ä¿®å¤é—®é¢˜
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e4%bf%ae%e5%a4%8d%e9%97%ae%e9%a2%98&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;é‚å†™äº†&lt;a href=&#34;https://invent.kde.org/moodyhunter/kwin/-/commit/6ee442d1d1b5b70e3e06a7528d470c4ea1537042&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æ­¤ patch&lt;/a&gt;ï¼Œåœ¨è®¡ç®—
&lt;code&gt;Display::outputsIntersecting(const QRect &amp;amp;rect)&lt;/code&gt; æ—¶è€ƒè™‘å±å¹•æœå‘ã€‚&lt;/p&gt;
&lt;p&gt;ç»è¿‡æ­¤ patch åï¼Œé—®é¢˜å¾—åˆ°äº†ä¿®å¤ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åç»­&#34;&gt;
  åç»­
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e5%90%8e%e7%bb%ad&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;å‘ç° kwin ä¸Šæ¸¸å·²ç»åœ¨ master åˆ†æ”¯æäº¤äº†æ­¤é—®é¢˜çš„æ›´åˆç†ä¿®å¤ï¼š&lt;a href=&#34;https://invent.kde.org/plasma/kwin/-/commit/25466f9546dc9a2752708f4b1216088f1f0b7ef3&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;commit 1&lt;/a&gt;
å’Œ &lt;a href=&#34;https://invent.kde.org/plasma/kwin/-/commit/ed49d7c59bb3cc0983d2fe86973aaf8169266e1a?page=2#1120118b5c63d781de321067fb32acbd40cbc74f_315_283&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;commit 2&lt;/a&gt;ï¼Œ
ä½†ä»æœª releaseã€å¤–åŠ æ”¹åŠ¨è¿‡å¤šï¼Œç›®å‰ä¸´æ—¶ä½¿ç”¨äº†æˆ‘è‡ªå·±çš„ patchã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ä¸ Wayland çš„ç¬¬ N&#43;1 æ¬¡äº²å¯†äº’åŠ¨ï¼ˆé€€å‘é‡åˆ¶ç‰ˆï¼‰</title>
      <link>https://mooody.me/posts/2022-07/me-vs-wayland-revisited/</link>
      <pubDate>Mon, 04 Jul 2022 00:00:00 +0000</pubDate>
      
      <guid>https://mooody.me/posts/2022-07/me-vs-wayland-revisited/</guid>
      <description>&lt;h1 id=&#34;æˆ‘ä¹Ÿæ˜¯-wayland-ç”¨æˆ·äº†-é€€äº†è°¢è°¢&#34;&gt;
  &lt;del&gt;æˆ‘ä¹Ÿæ˜¯ Wayland ç”¨æˆ·äº†ï¼&lt;/del&gt; é€€äº†è°¢è°¢
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e6%88%91%e4%b9%9f%e6%98%af-wayland-%e7%94%a8%e6%88%b7%e4%ba%86-%e9%80%80%e4%ba%86%e8%b0%a2%e8%b0%a2&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;../me-vs-wayland//&#34; &gt;å°±åœ¨ä¸‰å¤©ä¹‹å‰ï¼Œâ€¦â€¦&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;?&#34; src=&#34;https://mooody.me/posts/2022-07/me-vs-wayland-revisited/bye-from-copilot.png&#34;&gt;&lt;/p&gt;
&lt;span class=&#34;spoiler&#34; title=&#34;ä½ çŸ¥é“çš„å¤ªå¤šäº†&#34;
  &gt;æˆ‘å°±é€€äº†è°¢è°¢ã€‚&lt;/span
&gt;
&lt;p&gt;åœ¨åˆ‡æ¢åˆ° Wayland å‰ï¼Œæˆ‘å¯¹ä»–å……æ»¡äº†æ»¡å¿ƒæ†§æ†¬ï¼Œå› ä¸ºæˆ‘æœ‰ä¸ª 4K å±å¹•è€Œ X11 ä¸‹ï¼ˆä¼¼ä¹ï¼‰å¯¹å¤šå±ä¸åŒ DPI çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ã€‚&lt;/p&gt;
&lt;p&gt;è‡ªä» 2021 å¹´åº•å·¦å³ï¼Œæˆ‘å°±ä¸€æ¬¡åˆä¸€æ¬¡åœ°åˆ‡æ¢åˆ° Wayland è¿›è¡Œä½“éªŒï¼Œå³ä½¿æ¯æ¬¡éƒ½æœ‰ä¸€äº›æ–°çš„ bug è¢«ä¿®å¤ï¼Œä½†å½“æ—¶çš„æ•´ä½“æ„Ÿè§‰ä»ç„¶ä¸å¥½ã€‚&lt;/p&gt;
&lt;p&gt;ç›´åˆ°å‰å‡ å¤©ï¼ˆå››å¤©å‰ï¼‰æˆ‘åˆä¸€æ¬¡å°è¯• Waylandï¼Œç¬¬ä¸€å¤©ä¸‹æ¥ï¼Œè™½ç„¶ä½“éªŒåˆ°äº†ä¸€äº› glitchï¼Œä½†æ•´ä½“è¿˜ç®—å¯ä»¥æ¥å—ã€‚Wayland å¸¦æ¥çš„ 4K é«˜åˆ†å±æ”¯æŒã€é«˜åˆ·æ–°ç‡æ”¯æŒéƒ½æ˜¯é¡¶çº§çš„åŠ åˆ†é¡¹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é€€å‘&#34;&gt;
  é€€å‘
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e9%80%80%e5%9d%91&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;ä½†ä»ç¬¬äºŒå¤©å¼€å§‹ï¼Œå„ç§å„æ ·çš„é—®é¢˜å°±æµ®ç°å‡ºæ¥ï¼š&lt;/p&gt;
&lt;h3 id=&#34;vscode-æ— æ³•ä½¿ç”¨è¾“å…¥æ³•&#34;&gt;
  VSCode æ— æ³•ä½¿ç”¨è¾“å…¥æ³•
  &lt;a class=&#34;heading-link&#34; href=&#34;#vscode-%e6%97%a0%e6%b3%95%e4%bd%bf%e7%94%a8%e8%be%93%e5%85%a5%e6%b3%95&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;æˆ‘è¦å†™ blog å•Šï¼Œæ²¡æœ‰ä¸­æ–‡è¾“å…¥æ³•æ€ä¹ˆè¡Œï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸŠï¼šæ€ä¹ˆç”¨ä¸äº†è¾“å…¥æ³•&lt;/p&gt;
&lt;p&gt;Ianï¼šozone&lt;/p&gt;
&lt;p&gt;ğŸŠï¼šæ‰€ä»¥æ€ä¹ˆåŠ&lt;/p&gt;
&lt;p&gt;Ianï¼šåœ¨åˆ«çš„åœ°æ–¹è¾“å…¥ï¼Œç„¶å cut paste&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Chromium ä¸Šæ¸¸çš„ &lt;a href=&#34;https://chromium-review.googlesource.com/c/chromium/src/&amp;#43;/3015331&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;text_input_manager_v3&lt;/code&gt; æ”¯æŒ&lt;/a&gt;
Code Review ä»ç„¶åœ¨è¿›è¡Œä¸­ï¼Œå°šæœªåˆå¹¶ã€‚å› æ­¤ä¸‹æ¸¸ç”µå­åƒåœ¾ä»¬åªèƒ½æ…¢æ…¢ç­‰ç€ï¼ˆæˆ–è€… XWaylandï¼‰ã€‚ç›´æ¥å¯¼è‡´ Chromium / Chrome / VSCode åœ¨
native Wayland ç¯å¢ƒä¸‹æ ¹æœ¬æ— æ³•ä½¿ç”¨è¾“å…¥æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨ï¼šChromium / Chrome å¯ä»¥é€šè¿‡ä½¿ç”¨ &lt;code&gt;--gtk-version=4&lt;/code&gt; å¯ç”¨ GTK4ï¼Œé€šè¿‡æ„é€ ä¸€ä¸ªå‡çš„ï¼ˆæ²¡é”™ï¼‰GTK çª—å£è¿›è¡Œ &amp;ldquo;ä¼ªé€ &amp;rdquo; è¾“å…¥æ³•æ”¯æŒ&lt;/p&gt;
&lt;p&gt;æœ‰å…³è¾“å…¥æ³•çš„æ›´å¤šå†…å®¹ï¼Œè¯·æˆ³ &lt;a href=&#34;https://www.csslayer.info/wordpress/fcitx-dev/chrome-state-of-input-method-on-wayland/&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Chrome/Chromium ä»Šæ—¥ Wayland è¾“å…¥æ³•æ”¯æŒç°çŠ¶&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆå†…å®¹å¼•ç”¨äº 2022 å¹´ 7 æœˆï¼Œå±Šæ—¶å¯èƒ½ä¼šæ›´æ–°ï¼Œè¯·ç•™æ„ï¼‰&lt;/p&gt;
&lt;h3 id=&#34;krunner-ç»å¸¸æ€§æ— æ³•è°ƒå‡º&#34;&gt;
  KRunner ç»å¸¸æ€§æ— æ³•è°ƒå‡º
  &lt;a class=&#34;heading-link&#34; href=&#34;#krunner-%e7%bb%8f%e5%b8%b8%e6%80%a7%e6%97%a0%e6%b3%95%e8%b0%83%e5%87%ba&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;ä¸çŸ¥é“ä»€ä¹ˆåŸå› ã€‚åœ¨ç»è¿‡ä¸€æ®µæ—¶é—´ä¹‹åï¼Œæˆ‘å°±æ— æ³•ä½¿ç”¨ &lt;code&gt;Alt + Space&lt;/code&gt; å‘¼å‡º KRunnerã€‚&lt;br&gt;
æœ¬äººæ˜¯ KRunner é‡åº¦ç”¨æˆ·ï¼Œæ¯æ¬¡å‡ºç°è¿™ç§æƒ…å†µåéœ€è¦ä½¿ç”¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl --user restart plasma-krunner.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é‡å¯æœåŠ¡æ‰èƒ½é‡æ–°æ¢å¤æ­£å¸¸ï¼Œä½†è¿‡ä¸€æ®µæ—¶é—´ä¹‹åï¼Œé—®é¢˜ä»ä¼šå‡ºç°ã€‚&lt;/p&gt;
&lt;p&gt;Such a bummer.&lt;/p&gt;
&lt;h3 id=&#34;global-application-menu-æ— æ³•ä½¿ç”¨-meta-é”®hahahugoshortcode18s1hbhbæ‰“å¼€&#34;&gt;
  Global Application Menu æ— æ³•ä½¿ç”¨ Meta é”®&lt;span class=&#34;spoiler&#34; title=&#34;ä½ çŸ¥é“çš„å¤ªå¤šäº†&#34;
  &gt;ï¼ˆWindows å¾½æ ‡é”®ï¼‰&lt;/span
&gt;æ‰“å¼€
  &lt;a class=&#34;heading-link&#34; href=&#34;#global-application-menu-%e6%97%a0%e6%b3%95%e4%bd%bf%e7%94%a8-meta-%e9%94%aehahahugoshortcode18s1hbhb%e6%89%93%e5%bc%80&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;åŒæ ·æ˜¯ä¸ªä¸çŸ¥é“ä»€ä¹ˆåŸå› çš„é—®é¢˜ã€‚æ— æ³•è¿›è¡Œæ›´å¤šçš„åˆ†æã€‚&lt;/p&gt;
&lt;h3 id=&#34;flameshot-æ— æ³•æ­£å¸¸ä½¿ç”¨&#34;&gt;
  Flameshot æ— æ³•æ­£å¸¸ä½¿ç”¨
  &lt;a class=&#34;heading-link&#34; href=&#34;#flameshot-%e6%97%a0%e6%b3%95%e6%ad%a3%e5%b8%b8%e4%bd%bf%e7%94%a8&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;è™½ç„¶è¯´å¯ä»¥ä¸ç”¨ Flameshotï¼Œä½†å·²ç»ä¹ æƒ¯äº†ä»–çš„ annotationï¼Œæ¢ç”¨ Spectacle è¿˜æ˜¯æŒºä¸é€‚åº”çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;latte-dock-å½»åº•æ— æ³•å¯åŠ¨&#34;&gt;
  Latte Dock å½»åº•æ— æ³•å¯åŠ¨
  &lt;a class=&#34;heading-link&#34; href=&#34;#latte-dock-%e5%bd%bb%e5%ba%95%e6%97%a0%e6%b3%95%e5%90%af%e5%8a%a8&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;åŒæ ·ï¼Œæˆ‘ä¸çŸ¥é“ä»€ä¹ˆåŸå› ï¼Œåœ¨ç»ˆç«¯æ·»åŠ  &lt;code&gt;-d&lt;/code&gt; debug è¾“å‡ºä¹Ÿå¹¶æ— æœ‰ç”¨çš„æ¶ˆæ¯ï¼Œgdb ç°å®ä¸ºåœ¨ &lt;code&gt;poll()&lt;/code&gt; ä½†æ²¡æ—¶é—´è°ƒæŸ¥å…·ä½“åœ¨ &lt;code&gt;poll&lt;/code&gt; ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;h3 id=&#34;vscode--vmware-å±å¹•é—ªçƒ&#34;&gt;
  VSCode / VMWare å±å¹•é—ªçƒ
  &lt;a class=&#34;heading-link&#34; href=&#34;#vscode--vmware-%e5%b1%8f%e5%b9%95%e9%97%aa%e7%83%81&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;ä¿©é—­æºè½¯ä»¶ä¹Ÿæ²¡ä»€ä¹ˆå¥½è°ƒæŸ¥çš„&lt;/p&gt;
&lt;h3 id=&#34;wine-æ— æ³•æ‹–åŠ¨æ–‡ä»¶è¿›å‡º&#34;&gt;
  Wine æ— æ³•æ‹–åŠ¨æ–‡ä»¶è¿›å‡º
  &lt;a class=&#34;heading-link&#34; href=&#34;#wine-%e6%97%a0%e6%b3%95%e6%8b%96%e5%8a%a8%e6%96%87%e4%bb%b6%e8%bf%9b%e5%87%ba&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;å­—é¢æ„æ€ï¼Œæ— æ³•æ‹–åŠ¨æ–‡ä»¶è¿›å‡ºã€‚æˆ‘ä¸æ˜¯ wine å¼€å‘è€…ï¼Œæ•…è€Œä¹Ÿä¸çŸ¥é“ä»€ä¹ˆåŸå› ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¾£é¸¡å¾®ä¿¡&#34;&gt;
  è¾£é¸¡å¾®ä¿¡
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e8%be%a3%e9%b8%a1%e5%be%ae%e4%bf%a1&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;è¾£é¸¡å¾®ä¿¡æ— è®ºæ˜¯ wine Wayland ä¸‹è¿˜æ˜¯ wine X11 ä¸‹éƒ½ååˆ†éš¾ç”¨ï¼Œå¼ å°é¾™&lt;span class=&#34;spoiler&#34; title=&#34;ä½ çŸ¥é“çš„å¤ªå¤šäº†&#34;
  &gt;é˜–å®¶æ¬¢ä¹&lt;/span
&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç»“è¯­&#34;&gt;
  ç»“è¯­
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e7%bb%93%e8%af%ad&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸Šå†…å®¹å‡ä¸ºæœ¬äººè§‚ç‚¹ï¼Œç”±äºæŠ€æœ¯æœ‰é™ï¼Œå¯èƒ½æ— æ³•æ­£ç¡®æ’é™¤æ‰€æœ‰é—®é¢˜ã€‚&lt;br&gt;
å¦‚æœæœ‰äººèƒ½æä¾›ä»¥ä¸Šé—®é¢˜çš„å…·ä½“åŸå› ï¼Œæˆ–è§£å†³åŠæ³•ï¼Œæ¬¢è¿ leave a commentï¼Œæˆ‘å°†æ„Ÿæ¿€ä¸å°½ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¹‹å‰æˆ‘å¤§æ¦‚åªå¥½ Stuck with X11 äº†ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>æˆ‘ä¸ Wayland çš„ç¬¬ N æ¬¡äº²å¯†äº’åŠ¨</title>
      <link>https://mooody.me/posts/2022-07/me-vs-wayland/</link>
      <pubDate>Fri, 01 Jul 2022 00:00:00 +0000</pubDate>
      
      <guid>https://mooody.me/posts/2022-07/me-vs-wayland/</guid>
      <description>&lt;h1 id=&#34;æˆ‘ä¹Ÿæ˜¯-wayland-ç”¨æˆ·äº†&#34;&gt;
  æˆ‘ä¹Ÿæ˜¯ Wayland ç”¨æˆ·äº†ï¼
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e6%88%91%e4%b9%9f%e6%98%af-wayland-%e7%94%a8%e6%88%b7%e4%ba%86&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;ä»Šå¤©ä» X11 è¿ç§»åˆ°äº† Waylandï¼Œæˆ‘ä¹Ÿæ˜¯ Wayland ç”¨æˆ·äº†ï¼&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Android &#39;Deploy&#39; Qt?</title>
      <link>https://mooody.me/posts/2022-05/android-deploy-qt/</link>
      <pubDate>Fri, 13 May 2022 02:09:05 +0100</pubDate>
      
      <guid>https://mooody.me/posts/2022-05/android-deploy-qt/</guid>
      <description>&lt;h2 id=&#34;ä½ è¿™-androiddeployqt-å¯èƒ½æ²¡æ³•æ­£å¸¸-deploy-qt&#34;&gt;
  ä½ è¿™ &lt;code&gt;androiddeployqt&lt;/code&gt; å¯èƒ½æ²¡æ³•æ­£å¸¸ deploy Qt
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e4%bd%a0%e8%bf%99-androiddeployqt-%e5%8f%af%e8%83%bd%e6%b2%a1%e6%b3%95%e6%ad%a3%e5%b8%b8-deploy-qt&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;h3 id=&#34;ä¸€äº›æ— èŠçš„æ¦‚å¿µ&#34;&gt;
  ä¸€äº›æ— èŠçš„æ¦‚å¿µ
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e4%b8%80%e4%ba%9b%e6%97%a0%e8%81%8a%e7%9a%84%e6%a6%82%e5%bf%b5&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;Moody&amp;rsquo;s Utility Bot&lt;/em&gt; æ˜¯ä¸€ä¸ªä¸&lt;a href=&#34;https://github.com/moodyhunter/MoodyAPI&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æ­¤ä»“åº“&lt;/a&gt; GitHub Actions &lt;del&gt;æ¢¦å¹»è”åŠ¨&lt;/del&gt; çš„ Telegram Bot&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è´Ÿè´£å‘é€æ¶ˆæ¯å’Œæœ€æ–° build äº§ç‰©ï¼Œ&lt;/li&gt;
&lt;li&gt;&lt;del&gt;åŒæ—¶ä¹Ÿè´Ÿè´£æé†’è”¡é˜Ÿèµ·æ¥ï¼ˆå‡ºå¤„ï¼š&lt;a href=&#34;https://github.com/moodyhunter/MoodyAPI/blob/1f1d32a8c761c7c13d486cd4e7af657e838cd44f/Server/main.go#L70&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;æˆ‘èµ·æ¥äº†&amp;rdquo;&lt;/a&gt;ï¼‰&lt;/del&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Qt æ˜¯ â€¦â€¦&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿™è¿˜ç”¨ä»‹ç»å—&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;QtGraphicalEffects æ˜¯ â€¦â€¦&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Qt5 æ—¶æœŸçš„ä¸€ä¸ª Qt moduleï¼Œé¡¾åæ€ä¹‰è´Ÿè´£ â€œå›¾å½¢ç‰¹æ•ˆâ€ æ¯”å¦‚æ¸å˜ï¼Œé˜´å½±ç”šè‡³ GLSL æ•ˆæœ&lt;/li&gt;
&lt;li&gt;ä½†åœ¨ Qt6 ä¸­è¢« deprecate äº†&lt;/li&gt;
&lt;li&gt;ä½†æˆ‘ç¡¬æ˜¯å¼ºè¡Œå°†å…¶ port åˆ° Qt6ï¼Œå…¶å®æ˜¯ä¸€ç§ â€œåˆä¸æ˜¯ä¸èƒ½ç”¨â€ çš„çŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å¼€ç«¯&#34;&gt;
  ã€Šå¼€ç«¯ã€‹ï¼Ÿ
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e5%bc%80%e7%ab%af&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;2022 å¹´ 5 æœˆ 1 æ—¥å‡Œæ™¨ 1 ç‚¹ 00 åˆ† 56 ç§’ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Moody&amp;rsquo;s Utils Bot:&lt;/p&gt;
&lt;p&gt;Successfully built the client app, [File : MoodyAppMain.apk]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘éšå³ä¸‹è½½å¹¶å®‰è£…äº†æ–°ç‰ˆ &lt;code&gt;MoodyAppMain.apk&lt;/code&gt;ï¼Œ&lt;del&gt;ç¬‘æ­»&lt;/del&gt;ï¼Œç›´æ¥å´©æ‰ã€‚&lt;/p&gt;
&lt;p&gt;å½“æ—¶æˆ‘å¿ƒé‡Œå¾ˆæ¸…æ¥šè¿™ç©æ„å·²ç»ç‚¸äº†ä¸€ä¸ªæœˆäº†ï¼Œä»æ„šäººèŠ‚å½“å¤©çš„ &lt;a href=&#34;https://github.com/moodyhunter/MoodyAPI/commit/ad042600dfed5bc44efe5fccca7888ae8247befd&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ad042600&lt;/a&gt; ä»¥åå°±å…¨ç›˜è£‚å¼€ï¼Œä½†è¿™ commit åªæ˜¯ç®€å•çš„å‡çº§äº†ä¸€ä¸‹ Qt ç‰ˆæœ¬ï¼ˆ622 åˆ° 630ï¼‰ï¼Œå¹¶ä¸åº”è¯¥å¼•å…¥æ–°çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆé‚£å¤©è¦è¿ç§» Build Serverï¼Ÿ ç­”ï¼šä¹‹å‰çš„ç¼–è¯‘æœºç‚¸äº†ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºå‰æ®µæ—¶é—´æœ‰è€ƒè¯•ï¼Œæ­¤æ—¶ï¼ˆäº”æœˆä¸€å·ï¼‰è¿˜å¤„äºè€ƒå®Œè¯•ç–¯ç©æœŸé—´ï¼Œå°±å¹¶æ²¡æœ‰å¯¹æ­¤è¿›è¡Œè°ƒæŸ¥ã€‚&lt;/p&gt;
&lt;p&gt;â€¦â€¦â€¦â€¦&lt;/p&gt;
&lt;h3 id=&#34;å¤ç°&#34;&gt;
  å¤ç°
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e5%a4%8d%e7%8e%b0&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;æ„æ€æ˜¯è¿™ä¸ª bug 4 æœˆ 1 å·çš„ commit å¼€å§‹å‡ºç°ï¼Œä¸€ç›´å’•åˆ°ç°åœ¨æ‰å¼€å§‹ä¿®ï¼ˆå¤§æ¦‚æ˜¯ç©å¤Ÿäº†ï¼Œè¯¥è€è€å®å®æŠŠ broken build ä¿®ä¸€ä¿®äº†ï¼‰ï¼Œäºæ˜¯æˆ‘å¼€å§‹é‡æ–°æ‹¿èµ· QtCreator&lt;/p&gt;
&lt;p&gt;é¦–å…ˆä½¿ç”¨ QtCreator ç›´æ¥ç¼–è¯‘ï¼ˆæˆ‘éƒ½å¤šé•¿æ—¶é—´æ²¡å†™è¿‡ QML äº†ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é¦–å…ˆæˆ‘å¾— Build ä¸ª Qtï¼Œæˆ–è€…ä» Qt installer ä¸‹è½½ä¸€ä»½ Qt for Androidï¼Œä½†æ˜¯æˆ‘æœ‰ &lt;a href=&#34;https://github.com/moodyhunter/QtBuildScript&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;QtBuildScript&lt;/a&gt;ï¼Œç›´æ¥ &lt;code&gt;./build-qt.fish -p android -a x86_64&lt;/code&gt; å³å¯ç¼–è¯‘ Qt &lt;del&gt;ï¼ˆä»€ä¹ˆç‹å©†å–ç“œç¯èŠ‚ï¼‰&lt;/del&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ç­‰äº†åŠä¸ªå°æ—¶ä»¥åï¼Œæ‰“å¼€ QtCreator å¹¶ï¼ˆä»å¤´ï¼‰ï¼ˆé‡æ–°ï¼‰é…ç½® Qt ç¯å¢ƒï¼ˆè¿™ç§ä¸œè¥¿æ²¡å¿…è¦èµ˜è¿°ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨ä»¥ä¸‹ CMake å‚æ•°~~ï¼ˆè¿™ä¸ªå¾—è®°ï¼Œä¸‹æ¬¡è¦è€ƒï¼‰~~ è¿›è¡Œ configure å¹¶å¼€å§‹ build&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cmake&#34; data-lang=&#34;cmake&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-DCMAKE_TOOLCHAIN_FILE=/PATH/TO/VCPKG/scripts/buildsystems/vcpkg.cmake
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-DVCPKG_CHAINLOAD_TOOLCHAIN_FILE=/PATH/TO/NDK/build/cmake/android.toolchain.cmake
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-DVCPKG_TARGET_TRIPLET=x64-android
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šæ–‡ CMake å‚æ•°åªé€‚ç”¨äºåœ¨ QtCreator ä¸­ä½¿ç”¨ vcpkg å’Œ Android toolchainï¼Œè€Œåœ¨å‘½ä»¤è¡Œ
ä¸­ä½¿ç”¨ qt-cmake åˆ™éœ€è¦å¦ä¸€ä¸ªå˜é‡&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯æŠŠ &lt;code&gt;CMAKE_TOOLCHAIN_FILE&lt;/code&gt; æ¢ä¸º &lt;code&gt;QT_CHAINLOAD_TOOLCHAIN_FILE&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éšåå¯åŠ¨ Android è™šæ‹Ÿæœºè¿›è¡Œæµ‹è¯•ï¼Œç»“æœ &lt;strong&gt;BANG&lt;/strong&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-log&#34; data-lang=&#34;log&#34;&gt;W MoodyApp: QQmlApplicationEngine failed to load component
W MoodyApp: qrc:/client/api/mooody/me/qml/main.qml:5:1: module &amp;#34;QtGraphicalEffects&amp;#34; is not installed
W MoodyApp: exit app 0
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æƒ³èµ·ä¹‹å‰å†™è¿‡ä¸€ç¯‡ &lt;a href=&#34;https://mooody.me/posts/2021-09/qt6-cmake-porting-guide/&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;qt_add_qml_module&lt;/code&gt;&lt;/a&gt; CMake å‡½æ•°çš„&amp;quot;è¯¦&amp;quot;è§£ï¼Œä½†ç°åœ¨åè¿‡æ¥çœ‹äº†çœ‹ï¼Œå¹¶æ²¡æœ‰ç€é‡è¯´æ˜ &lt;code&gt;IMPORT_PATH&lt;/code&gt; çš„é‡è¦æ€§ï¼Œäºæ˜¯æ‰“å¼€ &lt;a href=&#34;https://doc-snapshots.qt.io/qt6-dev/qt-add-qml-module.html#qt6-add-qml-module&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Qt æ–‡æ¡£ (dev åˆ†æ”¯ç‰ˆ)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ–‡æ¡£é‡Œè¯´ï¼š&lt;em&gt;&lt;code&gt;IMPORT_PATH&lt;/code&gt; å¯ä»¥ç”¨æ¥æ·»åŠ è¢«ä¾èµ–çš„ QML æ¨¡å—çš„æœç´¢è·¯å¾„ã€‚è¿™é‡ŒæŒ‡å®šçš„ä½ç½®éœ€è¦åŒ…å« &lt;code&gt;qmldir&lt;/code&gt; æ–‡ä»¶æ¥æ ‡æ˜æ­¤æ–‡ä»¶å¤¹ä»£è¡¨äº†ä¸€ä¸ª QML æ¨¡å—ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£çœ‹æ¥æˆ‘åŠ ä¸€ä¸ªå°±è¡Œï¼Ÿåœ¨é¡¹ç›®é‡Œæ·»åŠ äº† &lt;code&gt;IMPORT_PATH ${CMAKE_BINARY_DIR}&lt;/code&gt; å¹¶é‡æ–° buildï¼Œæœç„¶æ•ˆæœæ‹”ç¾¤ï¼&lt;/p&gt;
&lt;p&gt;åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œç¨‹åºæˆåŠŸåœ°åœ¨ Android VM ä¸­è¿è¡Œäº†ã€‚äºæ˜¯æˆ‘åˆè¿›è¡Œäº†ä¸€è½®å®ä½“æœºçš„æµ‹è¯•ï¼Œç»ˆäºæˆåŠŸåœ¨ç”Ÿäº§ç¯å¢ƒï¼ˆä¸€å°ä¸‰æ˜Ÿæ‰‹æœºï¼‰ä¸ŠæˆåŠŸè¿è¡Œèµ·è¿™ä¸ª APKã€‚&lt;/p&gt;
&lt;p&gt;æœ€åçš„æœ€åï¼Œæˆ‘è¿›è¡Œäº† &lt;code&gt;git push&lt;/code&gt;ï¼Œå¹¶å‡†å¤‡ä¼‘æ¯&lt;/p&gt;
&lt;h3 id=&#34;å°±è¿™å°±è¿™èƒ½æ°´ä¸€ç¯‡æ–‡ç« &#34;&gt;
  å°±è¿™ï¼Ÿå°±è¿™èƒ½æ°´ä¸€ç¯‡æ–‡ç« ï¼Ÿ
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e5%b0%b1%e8%bf%99%e5%b0%b1%e8%bf%99%e8%83%bd%e6%b0%b4%e4%b8%80%e7%af%87%e6%96%87%e7%ab%a0&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;å’•äº†ä¸€ä¸ªæœˆçš„ bug ä»…ä¸¤è¡Œä»£ç å°±èƒ½ä¿®å¥½ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åˆ«æ€¥ï¼Œæœ¬æ–‡æ ‡é¢˜æ‰€è¯´çš„ &lt;code&gt;androiddeployqt&lt;/code&gt; è¿˜æ²¡å‡ºåœºå‘¢&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;a href=&#34;https://github.com/moodyhunter/MoodyAPI/commit/9f6512c3fb7a94e377a2a7f55ddcb5d4ef72b75e&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;commit&lt;/a&gt; çš„æ—¶å€™ï¼Œæˆ‘å°±æš—è‡ªæ€€ç–‘ï¼š&amp;ldquo;Is it simple like this?&amp;quot;ï¼Œå“ˆå“ˆäº‹å®è¯æ˜ï¼šä¸å¯èƒ½çš„&lt;/p&gt;
&lt;p&gt;å°±åœ¨ä¸¤åˆ†é’Ÿåï¼Œç¼–è¯‘æœºå°† CI ç¯å¢ƒä¸‹ç¼–è¯‘å®Œæˆçš„ APK è‡ªåŠ¨å‘é€åˆ°äº† Telegram ç¾¤ï¼Œæˆ‘ç«‹å³å®‰è£…å¹¶æ‰“å¼€ï¼Œç»“æœç«Ÿç„¶&lt;strong&gt;åˆ&lt;/strong&gt;é—ªé€€äº†&lt;/p&gt;
&lt;p&gt;è¿™ä¸‹æˆ‘äººéº»äº†ï¼Œä»å¤´é¡¶éº»åˆ°è„šå°–ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä¹‹å‰çš„å¼€å‘è¿‡ç¨‹ä¸­å¯éƒ½æ²¡å‡ºç°è¿‡ CI äº§ç‰©æ²¡æ³•ç”¨çš„é—®é¢˜å•Š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;åˆ¨æ ¹é—®åº•&#34;&gt;
  åˆ¨æ ¹é—®åº•
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e5%88%a8%e6%a0%b9%e9%97%ae%e5%ba%95&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;å¤§æ¦‚ä¸ç”¨è®²é“ç†ï¼ŒAndroid ä¸Šè°ƒè¯•è‚¯å®šå¾—æ¬å‡º &lt;code&gt;adb logcat&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-log&#34; data-lang=&#34;log&#34;&gt;26896  4836 W MoodyApp: QQmlApplicationEngine failed to load component
26896  4836 W MoodyApp: qrc:/client/api/mooody/me/qml/main.qml:5:1: module &amp;#34;QtGraphicalEffects&amp;#34; is not installed
26896  4836 W MoodyApp: exit app 0
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;è¿™æ€ä¹ˆå’Œä¸Šé¢çš„ output ä¸€æ¨¡ä¸€æ ·å•Šï¼Œä¸æ˜¯ä¿®å¥½äº†å—ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æˆ‘çš„ QtGraphicalEffects åˆå»å“ªäº†ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ‹†åŒ…è§£å‹&#34;&gt;
  æ‹†åŒ…ï¼ˆè§£å‹ï¼‰
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e6%8b%86%e5%8c%85%e8%a7%a3%e5%8e%8b&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h4&gt;
&lt;p&gt;ç¨å¾®ç†è§£ä¸€äº› Qt/QML çš„è¯»è€…å¯èƒ½ä¼šçŸ¥é“ï¼Œä¸€ä¸ª QML æ¨¡å—å…¶å®å¯¹åº”äº†ä¸€ä¸ªï¼ˆæˆ–ä¸¤ä¸ªï¼Œæˆ–é›¶ä¸ªï¼‰åŠ¨æ€åº“ï¼Œè€Œ Android æ‰“åŒ…
è¿‡ç¨‹ä¸­æ˜¯ä¼šæŠŠè¿™äº›ä¾èµ–çš„åŠ¨æ€åº“æ‰“è¿› APK çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ä¸ºäº†ä»”ç»†ç ”ç©¶ APK é‡Œçš„å†…å®¹ï¼Œæˆ‘é€‰æ‹©ä½¿ç”¨ &lt;del&gt;KDE ç²¾å“å‹ç¼©æ–‡ä»¶æŸ¥çœ‹å™¨&lt;/del&gt; Ark æ‰“å¼€ APK ä¸€æ¢ç©¶ç«Ÿï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆå›¾å¾ˆå°ï¼Œç†è®ºä¸Šå¯ä»¥ç›´æ¥å³é”®çœ‹æºæ–‡ä»¶ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;APK å†…éƒ¨&#34; src=&#34;https://mooody.me/posts/2022-05/android-deploy-qt/androiddeployqt-apk-1.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ‰“å¼€æºæ–‡ä»¶å›¾ç‰‡ä»¥åï¼Œå°±å¯ä»¥å¾ˆæ¸…æ™°åœ°çœ‹åˆ° QtGraphicalEffects å¹¶æ²¡æœ‰åœ¨ &lt;code&gt;lib/&lt;/code&gt; æ–‡ä»¶å¤¹å†…&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å•¥å« &amp;ldquo;å¯ä»¥å¾ˆæ¸…æ™°åœ°çœ‹åˆ° xxx æ²¡åœ¨&amp;rdquo;ï¼Ÿ&lt;/li&gt;
&lt;li&gt;&lt;del&gt;anyway&lt;/del&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¾èµ–çš„ so æ²¡åœ¨ APK åŒ…é‡Œï¼Œè¿™è‚¯å®šæ˜¯æŸäº› deployment çš„é—®é¢˜&lt;/p&gt;
&lt;h4 id=&#34;ci-log&#34;&gt;
  CI Log
  &lt;a class=&#34;heading-link&#34; href=&#34;#ci-log&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h4&gt;
&lt;p&gt;ç»è¿‡å¯¹æ¯”ï¼ŒCMake Configure è¾“å‡ºå’Œæœ¬åœ° build æ—¶çš„è¾“å‡ºå¹¶æ— åŒºåˆ«ï¼ŒQt ç‰ˆæœ¬ä¹Ÿä¸€è‡´ï¼Œé‚£ä¹ˆé—®é¢˜å°±è¢«ç¼©å‡åˆ°äº† deployment è¿‡ç¨‹ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä½¿ç”¨ &lt;code&gt;cmake --build . --parallel --verbose&lt;/code&gt; è®© CMake åœ¨ build è¿‡ç¨‹ä¸­è¾“å‡ºè¯¦ç»†å†…å®¹ï¼Œå¤§æ¦‚å°±æ˜¯æ¯ä¸€
æ­¥éª¤è¿è¡Œçš„ç¨‹åºï¼Œå‘ç° Qt åœ¨ Android å¹³å°çš„ deployment å…¶å®æ˜¯ä¸€ä¸ªåä¸º &lt;code&gt;androiddeployqt&lt;/code&gt; çš„ç¨‹åºè¿›è¡Œçš„ï¼Œ
å®ƒè¯¦ç»†çš„å‚æ•°æ˜¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# ç¨å¾® format äº†ä¸€ä¸‹ï¼Œä¸ç„¶æ²¡æ³•ç»™äººçœ‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# éƒ¨åˆ†å†…å®¹åšäº† placeholder å¤„ç†ï¼Œå› ä¸ºæºç›®å½•å¤ªé•¿äº†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# BUILDDIR è¡¨ç¤º build ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# PATH_TO_QT è¡¨ç¤º Qt ï¼ˆhost ç‰ˆæœ¬ï¼‰ å®‰è£…è·¯å¾„ï¼ˆä¸æ˜¯ Androidï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/PATH_TO_QT/bin/androiddeployqt &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --input /BUILDDIR/android-MoodyAppMain-deployment-settings.json &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --output /BUILDDIR/android-build &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --apk /BUILDDIR/android-build/MoodyAppMain.apk &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --depfile /BUILDDIR/android-build/MoodyAppMain.d &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --builddir /BUILDDIR
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¯ä»¥æ˜æ˜¾çœ‹åˆ°ä¼ å…¥å‚æ•°æ˜¯ &lt;code&gt;android-MoodyAppMain-deployment-settings.json&lt;/code&gt; è¿™åª JSON&lt;/p&gt;
&lt;p&gt;å¤§æ¦‚æ˜¯æœ¬èƒ½ååº”ï¼Ÿæ‰“å¼€äº†æœ¬åœ°èƒ½ç”¨çš„ JSON æ–‡ä»¶è¿›è¡Œå¯¹æ¯”ï¼š&lt;/p&gt;
&lt;p&gt;è¿™ç§ç©æ„ä¸€èˆ¬äººéƒ½çœ‹ä¸æ‡‚å§ï¼š
&lt;img alt=&#34;diff-1&#34; src=&#34;https://mooody.me/posts/2022-05/android-deploy-qt/androiddeployqt-diff-1.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ•´ç¯‡éƒ½æ˜¯ path ä¸åŒå¯¼è‡´çš„ diffï¼Œç®€ç›´è¦å‘½ã€‚æ‰€ä»¥æˆ‘å°† JSON é‡Œçš„ç»å¯¹è·¯å¾„æ”¹ä¸ºäº† &lt;code&gt;/SOURCE&lt;/code&gt;, &lt;code&gt;/BUILDDIR&lt;/code&gt; ä¸€ç±»çš„ placeholderï¼Œdiff å¾—å‡ºä»¥ä¸‹ç»“æœï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;diff ./android-MoodyAppMain-deployment-settings.json ./json2.json
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;5c5
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f55&#34;&gt;&amp;lt;    &amp;#34;sdkBuildToolsRevision&amp;#34;: &amp;#34;33.0.0-rc2&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f55&#34;&gt;&lt;/span&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#50fa7b;font-weight:bold&#34;&gt;&amp;gt;    &amp;#34;sdkBuildToolsRevision&amp;#34;: &amp;#34;31.0.0&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#50fa7b;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;16d15
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f55&#34;&gt;&amp;lt;    &amp;#34;application-binary&amp;#34;: &amp;#34;MoodyAppMain&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f55&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;18a18
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#50fa7b;font-weight:bold&#34;&gt;&amp;gt;    &amp;#34;application-binary&amp;#34;: &amp;#34;MoodyAppMain&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¿½ç•¥ 16/18 è¡Œçš„é¡ºåºé—®é¢˜ï¼Œæˆ‘å‘ç° sdk ç‰ˆæœ¬å‡ºç°äº†ä¸ä¸€è‡´ã€‚ä½†åœ¨ CI æœºå™¨ä¸Šå®‰è£…åŒæ ·ç‰ˆæœ¬çš„ Android SDK åï¼Œ
build å‡ºæ¥çš„ APK ä»ç„¶ä¸åŒ…å« QtGraphicalEffects æ¨¡å—ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å’‹å›äº‹å‘¢&#34;&gt;
  å’‹å›äº‹å‘¢ï¼Ÿ
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e5%92%8b%e5%9b%9e%e4%ba%8b%e5%91%a2&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;æ£€æŸ¥äº† &lt;code&gt;androiddeployqt&lt;/code&gt; çš„å‚æ•°ï¼Œæ˜¯ä¸æ˜¯è¯¥æ£€æŸ¥ä¸€ä¸‹è¾“å‡ºäº†ï¼š&lt;/p&gt;
&lt;p&gt;ä¼¼ä¹æ²¡æœ‰ä»€ä¹ˆæœ‰æ„ä¹‰çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;diff-2&#34; src=&#34;https://mooody.me/posts/2022-05/android-deploy-qt/androiddeployqt-diff-2.png&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;--verbose&#34;&gt;
  &lt;code&gt;--verbose&lt;/code&gt;ï¼Ÿ
  &lt;a class=&#34;heading-link&#34; href=&#34;#--verbose&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h4&gt;
&lt;p&gt;æ— æ„é—´å‘ç° &lt;code&gt;androiddeployqt&lt;/code&gt; æœ‰ &lt;code&gt;--verbose&lt;/code&gt; é€‰é¡¹ï¼Œæ‰“å¼€ verbose åï¼Œäº‹æƒ…å‡ºç°äº†è½¬æœºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;diff-3&#34; src=&#34;https://mooody.me/posts/2022-05/android-deploy-qt/androiddeployqt-diff-3.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»€ä¹ˆå« &lt;code&gt;is in QML root path&lt;/code&gt;ï¼Œå½“æˆ‘å›å»æ£€æŸ¥ &lt;code&gt;android-MoodyAppMain-deployment-settings.json&lt;/code&gt; æ—¶å‘ç°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CI ç¯å¢ƒçš„ build ç›®å½•åœ¨ &lt;code&gt;SOURCE/build&lt;/code&gt;ï¼Œå¾ˆæ˜æ˜¾ &lt;code&gt;SOURCE&lt;/code&gt; å°±æ˜¯ QML root pathï¼›&lt;/li&gt;
&lt;li&gt;è€Œæœ¬åœ°å¼€å‘ç¯å¢ƒï¼Œç”±äºç»Ÿä¸€ç®¡ç†äº† build äº§ç‰©ï¼Œé»˜è®¤çš„ &lt;code&gt;CMAKE_BINARY_DIR&lt;/code&gt; ä½äº &lt;code&gt;~/.local/build_temp&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™å°±å¯¼è‡´ &lt;code&gt;BUILDDIR/QtGraphicalEffects&lt;/code&gt; åœ¨ CI ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒå¤„äºäº†ä¸åŒçš„ç›¸å¯¹ä½ç½®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CI ç¯å¢ƒä¸‹ï¼Œä½äº QML root path å­ç›®å½•&lt;/li&gt;
&lt;li&gt;å¼€å‘ç¯å¢ƒä¸‹ï¼Œåä¹‹ï¼Œå¤„äºåˆ«çš„åœ°æ–¹&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ ¸å¿ƒé—®é¢˜&#34;&gt;
  æ ¸å¿ƒé—®é¢˜
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e6%a0%b8%e5%bf%83%e9%97%ae%e9%a2%98&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;ä½äº &lt;a href=&#34;https://github.com/qt/qtbase/blob/dev/src/tools/androiddeployqt/main.cpp#L2103&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;src/tools/androiddeployqt/main.cpp:L2011&lt;/a&gt; è°ƒç”¨çš„ &lt;code&gt;checkQmlFileInRootPaths(const Options*, const QString &amp;amp;)&lt;/code&gt; å¯çŸ¥ï¼š&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå‡½æ•°æ— è„‘ï¼ˆåªï¼‰æ£€æŸ¥äº†å­ç›®å½•ï¼Œè€Œå¹¶æ£€æŸ¥ã€Œå³ä½¿ module ä½äºå­ç›®å½•ï¼Œèƒ½å¦é€šè¿‡ import URI å¯¼å…¥æ­¤ moduleã€ï¼Œå› æ­¤
å¯¼è‡´ SOURCE ä¸‹çš„æ‰€æœ‰ QML module éƒ½ä¼šè¢«è®¤ä¸º &amp;ldquo;ä½äº QML import path å†…&amp;rdquo;ï¼Œä½†äº‹å®å¹¶éå¦‚æ­¤ï¼š&lt;/p&gt;
&lt;p&gt;è¿™ä¸ª QML import path ä¸ä¼šè¢« deploy åˆ° APK é‡Œé¢ï¼Œé‚£è‡ªç„¶é‡Œé¢çš„ QML module å°±å…¨ä¸¢äº†ï¼šï¼‰&lt;/p&gt;
&lt;h3 id=&#34;åç»­&#34;&gt;
  åç»­
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e5%90%8e%e7%bb%ad&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;ç»™ Qt å‘äº†ä¸ª patch &lt;a href=&#34;https://codereview.qt-project.org/c/qt/qtbase/&amp;#43;/411805&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;qtbase@411805&lt;/a&gt;ï¼Œ
å¸Œæœ›èƒ½å¸®ä¸Šå¿™ï¼Œ&lt;del&gt;ä½†è¯´å®è¯æˆ‘ä¹Ÿä¸ç¡®å®šæ˜¯å¦åº”è¯¥è¿™æ ·ä¿®&lt;/del&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç»“è¯­&#34;&gt;
  ç»“è¯­
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e7%bb%93%e8%af%ad&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;ç¡è§‰ï¼Œæ™šå®‰&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ArchRV - BuggyFFI</title>
      <link>https://mooody.me/posts/2022-04/archrv-libffi/</link>
      <pubDate>Tue, 19 Apr 2022 23:09:10 +0100</pubDate>
      
      <guid>https://mooody.me/posts/2022-04/archrv-libffi/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;EXPAND MY INTEGER!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/libffi/libffi&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;libffi&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;libffi-æ˜¯ä»€ä¹ˆ&#34;&gt;
  libffi æ˜¯ä»€ä¹ˆï¼Ÿ
  &lt;a class=&#34;heading-link&#34; href=&#34;#libffi-%e6%98%af%e4%bb%80%e4%b9%88&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;A portable foreign-function interface library.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¯´äººè¯å°±æ˜¯ï¼š&lt;a href=&#34;https://github.com/libffi/libffi#what-is-libffi&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;â€¦â€¦ç®—äº†ä½ è‡ªå·±å»çœ‹å§&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;libffi-æ€ä¹ˆäº†&#34;&gt;
  libffi æ€ä¹ˆäº†ï¼Ÿ
  &lt;a class=&#34;heading-link&#34; href=&#34;#libffi-%e6%80%8e%e4%b9%88%e4%ba%86&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;TLDRï¼šæµ‹è¯•ç‚¸äº†&lt;/li&gt;
&lt;li&gt;or, å•å…ƒæµ‹è¯•æ–‡ä»¶ &lt;code&gt;./testsuite/libffi.call/strlen.c&lt;/code&gt; ç¬¬ 32 è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-C++&#34; data-lang=&#34;C++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;30&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt;  s &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;a&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;31&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt;  ffi_call(&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;cif, FFI_FN(my_strlen), &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;rint, values);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;32&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt;  CHECK(rint &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;çš„ &lt;code&gt;CHECK&lt;/code&gt; å¤±è´¥äº†ï¼ˆ &lt;code&gt;rint&lt;/code&gt; ä¸ç­‰äº &lt;code&gt;1&lt;/code&gt; äº†ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;libffi-æµ‹è¯•ä¸ºä»€ä¹ˆç‚¸äº†&#34;&gt;
  libffi æµ‹è¯•ä¸ºä»€ä¹ˆç‚¸äº†ï¼Ÿ
  &lt;a class=&#34;heading-link&#34; href=&#34;#libffi-%e6%b5%8b%e8%af%95%e4%b8%ba%e4%bb%80%e4%b9%88%e7%82%b8%e4%ba%86&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆæ¥çœ‹ä»£ç ï¼ˆç»è¿‡ç®€åŒ–ï¼‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;12
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;13
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;14
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-C++&#34; data-lang=&#34;C++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// testsuite/libffi.call/strlen.c
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;size_t ABI_ATTR &lt;span style=&#34;color:#50fa7b&#34;&gt;my_strlen&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;s) { &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; (strlen(s)); }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;main&lt;/span&gt; (&lt;span style=&#34;color:#8be9fd&#34;&gt;void&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#6272a4&#34;&gt;// çœç•¥äº†éƒ¨åˆ†æ— å…³ä»£ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#8be9fd&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;s &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;a&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#8be9fd&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;values[MAX_ARGS];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  values[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;] &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#8be9fd&#34;&gt;void&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;) &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;s;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  ffi_arg rint;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  ffi_call(&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;cif, FFI_FN(my_strlen), &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;rint, values);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  CHECK(rint &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;è§‚æµ‹&#34;&gt;
  è§‚æµ‹
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e8%a7%82%e6%b5%8b&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;ç»è¿‡ä¸¤åˆ†é’Ÿçš„ä»£ç è§‚æµ‹ï¼Œä»ä»¥ä¸Šä»£ç å— L12 æ¥çœ‹ï¼Œ&lt;code&gt;rint&lt;/code&gt; æ˜¯ä¸€ä¸ª &lt;code&gt;ffi_arg&lt;/code&gt; ç±»å‹çš„å˜é‡ï¼Œç»è¿‡é˜…è¯» header å¯ä»¥å¾—çŸ¥ï¼Œ&lt;code&gt;ffi_arg&lt;/code&gt; æ˜¯ä¸€ä¸ª 64 ä½æ— ç¬¦å·æ•´æ•°ç±»å‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-C++&#34; data-lang=&#34;C++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// src/riscv/ffitarget.h
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#8be9fd&#34;&gt;unsigned&lt;/span&gt; &lt;span style=&#34;color:#8be9fd&#34;&gt;long&lt;/span&gt; ffi_arg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;typedef&lt;/span&gt;   &lt;span style=&#34;color:#8be9fd&#34;&gt;signed&lt;/span&gt; &lt;span style=&#34;color:#8be9fd&#34;&gt;long&lt;/span&gt; ffi_sarg;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é¦–å…ˆä½¿ç”¨ &lt;code&gt;gdb&lt;/code&gt; åœ¨å¯¹åº”çš„ main å‡½æ•°æ‰“æ–­ç‚¹å¹¶å°è¯•å¤ç°é—®é¢˜ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;12
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;13
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;14
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;15
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Breakpoint 1, main &lt;span style=&#34;color:#ff79c6&#34;&gt;()&lt;/span&gt; at ./strlen.c:16
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt; n // ç‹‚èºçš„å‡ æ¬¡ n
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt; p rint
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# ä» c æºç å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ª rint åœ¨è°ƒç”¨å‰æ˜¯ä¸€ä¸ªæ²¡ç»è¿‡ 0 åˆå§‹åŒ–çš„å˜é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# å› æ­¤å†…å­˜é‡Œé¢æœ‰è„ä¸œè¥¿å¾ˆæ­£å¸¸&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$1&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;72057593903531392&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt; p s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$2&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; 0xaaaaaaaaaaab78 &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;a&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt; n
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;31&lt;/span&gt;        ffi_call&lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt;&amp;amp;cif, FFI_FN&lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt;my_strlen&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt;, &amp;amp;rint, values&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt; n
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt; p rint
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# ä½†å¦‚æ­¤çœ‹æ¥ï¼Œè°ƒç”¨åçš„ rint åˆ™ä¸åº”è¯¥å‡ºç°è¿™ä¹ˆå¤§çš„ lengthï¼Œæ¯•ç«Ÿæˆ‘ä»¬çš„ s åªæœ‰ä¸€ä¸ªå­—ç¬¦ &amp;#34;a&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$3&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;72057589742960641&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;çœ‹æ¥é—®é¢˜æ ¸å¿ƒå‡ºåœ¨äº† &lt;code&gt;ffi_call&lt;/code&gt; å‡½æ•°é‡Œã€‚&lt;/p&gt;
&lt;p&gt;é‡å¯è°ƒè¯•ï¼Œä½¿ç”¨ s æŒ‡ä»¤è¿›å…¥ &lt;code&gt;ffi_call&lt;/code&gt; å‡½æ•°ç»§ç»­è·Ÿè¿›ã€‚å‘ç°è¿™ä¸œè¥¿è½¬å¤´è°ƒç”¨äº† &lt;code&gt;ffi_call_int&lt;/code&gt;ï¼Œè€Œ
&lt;code&gt;ffi_call_int&lt;/code&gt; æ˜¯ä¸ªä¸çŸ­çš„å‡½æ•°ï¼Œ&lt;del&gt;äºæ˜¯å†³å®šï¼Œè¿˜æ˜¯å…ˆçœ‹ä»£ç å†è·‘ gdb&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/libffi/libffi/blob/464b4b66e3cf3b5489e730c1466ee1bf825560e0/src/riscv/ffi.c#L331&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/libffi/libffi/blob/464b4b66e3cf3b5489e730c1466ee1bf825560e0/src/riscv/ffi.c#L331&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»”ç»†çœ‹ä¸‹æ¥ï¼Œä¸ &lt;code&gt;rvalue&lt;/code&gt; ç›¸å…³çš„å‡ æ®µä»£ç åªæœ‰ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;12
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;13
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;14
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;15
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;16
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;17
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;18
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;19
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;20
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;21
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;22
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;23
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;24
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;25
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;26
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;27
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;28
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;29
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;30
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;31
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;32
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;33
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;34
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;35
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;36
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;37
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;38
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-C++&#34; data-lang=&#34;C++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#8be9fd&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;passed_by_ref&lt;/span&gt;(call_builder &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;cb, ffi_type &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;type, &lt;span style=&#34;color:#8be9fd&#34;&gt;int&lt;/span&gt; var) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;#if ABI_FLEN
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&lt;/span&gt;   &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;!&lt;/span&gt;var &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; type&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;type &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; FFI_TYPE_STRUCT) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       float_struct_info fsi &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; struct_passed_as_elements(cb, type);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (fsi.as_elements) &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; type&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;size &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt; __SIZEOF_POINTER__;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#8be9fd&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;ffi_call_int&lt;/span&gt; (
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#6272a4&#34;&gt;// çœç•¥äº†æ— å…³å‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#8be9fd&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;rvalue,       &lt;span style=&#34;color:#6272a4&#34;&gt;// è¿”å›å€¼ï¼ˆéœ€è¦å…³æ³¨ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;// çœç•¥äº†éƒ¨åˆ†æ— å…³ä»£ç 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    size_t rval_bytes &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (rvalue &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;NULL&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; cif&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;rtype&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;size &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;__SIZEOF_POINTER__)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        rval_bytes &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; FFI_ALIGN(cif&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;rtype&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;size, STKALIGN);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;// ......
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (rval_bytes)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        rvalue &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#8be9fd&#34;&gt;void&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;)(alloc_base &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; arg_bytes);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;// ......
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd&#34;&gt;int&lt;/span&gt; return_by_ref &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; passed_by_ref(&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;cb, cif&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;rtype, &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (return_by_ref)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        marshal(&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;cb, &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;ffi_type_pointer, &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;rvalue);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;// çœç•¥å‡†å¤‡å‚æ•°çš„ä¸€ä¸ª for å¾ªç¯...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ffi_call_asm ((&lt;span style=&#34;color:#8be9fd&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;) alloc_base, cb.aregs, fn, closure);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;!&lt;/span&gt;return_by_ref &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; rvalue)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        unmarshal(&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;cb, cif&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;rtype, &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;, rvalue);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å³ä½¿æ˜¯çœç•¥äº†å…¶ä»–å†…å®¹ï¼Œè¿™æ®µä»£ç ï¼Œä¸€çœ¼çœ‹ä¸‹å»è¿˜æ˜¯æ„Ÿè§‰å¾ˆéš¾å…¥æ‰‹â€¦â€¦&lt;/p&gt;
&lt;p&gt;ä½†æœ‰ä¸¤ç‚¹å€¼å¾—æ³¨æ„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨ä¸Šæ–‡ L17 å®šä¹‰çš„ &lt;code&gt;rval_bytes&lt;/code&gt; åœ¨æœ¬æ¬¡æµ‹è¯•ä¸­ä¼šæ’ç­‰äº &lt;code&gt;0&lt;/code&gt;ï¼Œå› ä¸º
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rvalue&lt;/code&gt; ä¼ å…¥å€¼ä¸ä¼šæ˜¯ &lt;code&gt;NULL&lt;/code&gt;ï¼ˆæˆ‘ä»¬çŸ¥é“è°ƒç”¨æ–¹ç»™äº†åœ°å€çš„ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;passed_by_ref&lt;/code&gt; æ’è¿”å› 0ï¼Œå› ä¸º
&lt;ul&gt;
&lt;li&gt;é‚£ä¸ª ABI_FLEN å®ç©¶ç«Ÿæ˜¯å¤šå°‘ä¸é‡è¦ï¼ˆå› ä¸ºæˆ‘ä»¬çš„ &lt;code&gt;type-&amp;gt;type&lt;/code&gt; ä¸æ˜¯ &lt;code&gt;FFI_TYPE_STRUCT&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;åŒæ—¶ &lt;code&gt;type-&amp;gt;size &amp;gt; 2 * __SIZEOF_POINTER__&lt;/code&gt; ä¸æˆç«‹ï¼ˆå› ä¸ºæˆ‘ä»¬çš„ &lt;code&gt;type&lt;/code&gt; æ˜¯ &lt;code&gt;ffi_arg&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åŸºäºä»¥ä¸Šä¸¤ç‚¹ï¼Œ&lt;code&gt;ffi_call_int&lt;/code&gt; å‡½æ•°è¿˜å°±è¢«ç®€åŒ–ä¸ºäº†ä»¥ä¸‹ä¸¤è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-C++&#34; data-lang=&#34;C++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// å®é™…è¿›è¡Œè°ƒç”¨ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;ffi_call_asm ((&lt;span style=&#34;color:#8be9fd&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;) alloc_base, cb.aregs, fn, closure);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;unmarshal(&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;cb, cif&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;rtype, &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;, rvalue);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢é‚£ä¸ª &lt;code&gt;ffi_call_asm&lt;/code&gt; å®šä¹‰åœ¨ä¸€ä¸ª assembly æ–‡ä»¶é‡Œï¼Œç”±äºå¹¶ä¸æ˜¯æ‰€æœ‰çš„å•å…ƒæµ‹è¯•éƒ½ç‚¸ï¼Œæˆ‘æš‚ä¸”å…ˆ assume å…¶èƒ½å·¥ä½œï¼Œå› æ­¤æ¥çœ‹ &lt;code&gt;unmarshal&lt;/code&gt; å‡½æ•°ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/libffi/libffi/blob/464b4b66e3cf3b5489e730c1466ee1bf825560e0/src/riscv/ffi.c#L254&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/libffi/libffi/blob/464b4b66e3cf3b5489e730c1466ee1bf825560e0/src/riscv/ffi.c#L254&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹å†…å®¹ä»æœ‰çœç•¥ï¼Œæºæ–‡ä»¶åœ¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;12
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;13
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;14
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;15
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;16
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;17
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;18
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;19
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;20
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;21
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;22
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-C++&#34; data-lang=&#34;C++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// è¿™æ®µå†…å®¹ä¸åœ¨ c æ–‡ä»¶é‡Œï¼Œä¸ºäº†æ–¹ä¾¿é˜…è¯»è´´è¿‡æ¥äº†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;#if __SIZEOF_POINTER__ == 8
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;#define IS_INT(type) ((type) &amp;gt;= FFI_TYPE_UINT8 &amp;amp;&amp;amp; (type) &amp;lt;= FFI_TYPE_SINT64)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;#else
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;#define IS_INT(type) ((type) &amp;gt;= FFI_TYPE_UINT8 &amp;amp;&amp;amp; (type) &amp;lt;= FFI_TYPE_SINT32)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#8be9fd&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;unmarshal&lt;/span&gt;(call_builder &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;cb, ffi_type &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;type, &lt;span style=&#34;color:#8be9fd&#34;&gt;int&lt;/span&gt; var, &lt;span style=&#34;color:#8be9fd&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;data) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    size_t realign[&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;pointer;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;// ...çœç•¥äº†å¯¹äº FFI_TYPE_STRUCT å’Œæµ®ç‚¹å°æ•°ç‚¹çš„å¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (type&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;size &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt; __SIZEOF_POINTER__) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#6272a4&#34;&gt;// çœç•¥äº†å¯¹äºå¤§æ•°æ®ç±»å‹çš„å¤„ç†ï¼ˆæˆ‘ä»¬çš„ `type` æ˜¯ `ffi_arg`ï¼Œä¸å¤Ÿå¤§ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    } &lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (IS_INT(type&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;type) &lt;span style=&#34;color:#ff79c6&#34;&gt;||&lt;/span&gt; type&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;type &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; FFI_TYPE_POINTER) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        unmarshal_atom(cb, type&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;type, data);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; data;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#6272a4&#34;&gt;// æ•´ä¸ª else ä¸ä¼šæ‰§è¡Œï¼Œå› ä¸ºä¸Šé¢çš„ if å·²ç»æ»¡è¶³äº†ï¼šIS_INT(type-&amp;gt;type)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿™ä¸ª &lt;code&gt;unmarshal&lt;/code&gt; å‡½æ•°ä¼¼ä¹æ²¡æœ‰ä»€ä¹ˆå€¼å¾—å…³æ³¨çš„ï¼Œå› æ­¤ç»§ç»­è¿›å…¥ &lt;code&gt;unmarshal_atom&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;12
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;13
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;14
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;15
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;16
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;17
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;18
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;19
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;20
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;21
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;22
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;23
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;24
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;25
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;26
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-C++&#34; data-lang=&#34;C++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#8be9fd&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;unmarshal_atom&lt;/span&gt;(call_builder &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;cb, &lt;span style=&#34;color:#8be9fd&#34;&gt;int&lt;/span&gt; type, &lt;span style=&#34;color:#8be9fd&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;data) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    size_t value;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;// çœç•¥æµ®ç‚¹å°æ•°ç‚¹çš„å¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (cb&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;used_integer &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; NARGREG) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        value &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;cb&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;used_stack&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        value &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; cb&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;aregs&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;a[cb&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;used_integer&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;switch&lt;/span&gt; (type) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;FFI_TYPE_UINT8&lt;/span&gt;: &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd&#34;&gt;uint8_t&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;)data &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; value; &lt;span style=&#34;color:#ff79c6&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;FFI_TYPE_SINT8&lt;/span&gt;: &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd&#34;&gt;uint8_t&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;)data &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; value; &lt;span style=&#34;color:#ff79c6&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;FFI_TYPE_UINT16&lt;/span&gt;: &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd&#34;&gt;uint16_t&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;)data &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; value; &lt;span style=&#34;color:#ff79c6&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;FFI_TYPE_SINT16&lt;/span&gt;: &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd&#34;&gt;uint16_t&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;)data &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; value; &lt;span style=&#34;color:#ff79c6&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;FFI_TYPE_UINT32&lt;/span&gt;: &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd&#34;&gt;uint32_t&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;)data &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; value; &lt;span style=&#34;color:#ff79c6&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;FFI_TYPE_SINT32&lt;/span&gt;: &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd&#34;&gt;uint32_t&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;)data &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; value; &lt;span style=&#34;color:#ff79c6&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;#if __SIZEOF_POINTER__ == 8
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;FFI_TYPE_UINT64&lt;/span&gt;: &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd&#34;&gt;uint64_t&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;)data &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; value; &lt;span style=&#34;color:#ff79c6&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;FFI_TYPE_SINT64&lt;/span&gt;: &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd&#34;&gt;uint64_t&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;)data &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; value; &lt;span style=&#34;color:#ff79c6&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;FFI_TYPE_POINTER&lt;/span&gt;: &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;(size_t &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;)data &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; value; &lt;span style=&#34;color:#ff79c6&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;default&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; FFI_ASSERT(&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;); &lt;span style=&#34;color:#ff79c6&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ³¨æ„ &lt;code&gt;data&lt;/code&gt; æ˜¯æŒ‡å‘ &lt;code&gt;ffi_arg&lt;/code&gt; ç±»å‹çš„æŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ª 64 ä½æ— ç¬¦å·æ•´æ•°ï¼Œä½†åœ¨å®é™…çš„è°ƒç”¨ä¸­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt; s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;192&lt;/span&gt;         switch &lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt; s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;198&lt;/span&gt;             &lt;span style=&#34;color:#ff79c6&#34;&gt;case&lt;/span&gt; FFI_TYPE_SINT32: *&lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt;uint32_t *&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;data&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; value; break;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt;gdb&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt; p &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;type&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$1&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¢«å½“ä½œæ˜¯ä¸€ä¸ªæŒ‡å‘ &lt;code&gt;uint32_t&lt;/code&gt; çš„æŒ‡é’ˆäº†ï¼Œåœ¨æ¥ä¸‹æ¥çš„å†™å…¥æ“ä½œä¸­ï¼Œåªå†™å…¥äº† 32 bits çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ® &lt;code&gt;switch&lt;/code&gt; å¯ä»¥æ¸…æ¥šå¾—çŸ¥ï¼š&lt;code&gt;type&lt;/code&gt; å˜é‡åœ¨æ­¤å¤„çš„å€¼ä¸º 10ï¼Œå¯¹åº”çš„å®æ˜¯ &lt;code&gt;FFI_TYPE_SINT32&lt;/code&gt; è€Œä¸æ˜¯æˆ‘ä»¬é¢„æœŸçš„ &lt;code&gt;FFI_TYPE_UINT64&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡æŸ¥é˜…ç›¸å…³ man page å¯ä»¥å¾—çŸ¥ï¼Œåœ¨ä½¿ç”¨ libffi è°ƒç”¨å‡½æ•°æ—¶ï¼Œè´Ÿè´£æ¥æ”¶å‡½æ•°è¿”å›å€¼çš„ç±»å‹ï¼ˆ&lt;code&gt;rint&lt;/code&gt; çš„ç±»å‹ï¼‰éœ€è¦è‡³å°‘ &lt;code&gt;sizeof(ffi_arg)&lt;/code&gt; å¤§å°
ï¼ˆä¹Ÿå°±æ˜¯ &lt;code&gt;FFI_TYPE_UINT64&lt;/code&gt; æˆ– &lt;code&gt;FFI_TYPE_SINT64&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç»“è®º&#34;&gt;
  ç»“è®º
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e7%bb%93%e8%ae%ba&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;æ­¤å¤„ RISC-V port çš„ libffi å†…éƒ¨å¹¶æœªåˆç†å¤„ç† ã€Œè¢«è°ƒç”¨å‡½æ•°ã€ è¿”å›å€¼ä¸è¶³ &lt;code&gt;sizeof(ffi_arg)&lt;/code&gt; çš„æƒ…å†µã€‚å¯¼è‡´å‘ä¸€å— 64bits å†…å­˜ï¼ˆè°ƒç”¨æ–¹ï¼‰å†™å…¥äº†
32bits çš„æ•°å­—ï¼ˆè¢«è°ƒç”¨æ–¹ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°é«˜ä½éƒ¨åˆ†åŒ…å«ä¹‹å‰æœªåˆå§‹åŒ–çš„åƒåœ¾æ•°æ®ï¼Œåªæœ‰ä½ä½è¢«å†™å…¥äº† 1ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;è°ƒç”¨å‰ rint = 72057593903531392 ä¹Ÿå°±æ˜¯ 0xFFFFFFF7FD4580
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;è°ƒç”¨å rint = 72057589742960641 ä¹Ÿå°±æ˜¯ 0xFFFFFF00000001
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;ä¿®&#34;&gt;
  ä¿®
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e4%bf%ae&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;é‚£ä¹ˆç°åœ¨å°±è¦ä¿®æ”¹ä»£ç ï¼Œä½¿å…¶ä½¿ç”¨æ­£ç¡®çš„è¿”å›å€¼ç±»å‹ï¼Œå‘ç°å·²ç»æœ‰äºº PRï¼š&lt;br&gt;
&lt;a href=&#34;https://github.com/libffi/libffi/pull/680&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/libffi/libffi/pull/680&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ª PR æ·»åŠ äº†åˆ¤æ–­ã€Œè¢«è°ƒç”¨å‡½æ•°è¿”å›å€¼ç±»å‹ã€çš„ç¬¦å·æ€§&lt;br&gt;
å¹¶æ ¹æ®ç³»ç»Ÿ bits æ•°ï¼Œè§„èŒƒåœ°é€‰ç”¨ &lt;code&gt;FFI_TYPE_{S,U}INT{32,64}&lt;/code&gt; ä¸­çš„å…¶ä¸­ä¸€ç§ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ç°åœ¨åªéœ€è¦å°†å…¶ &lt;a href=&#34;https://github.com/felixonmars/archriscv-packages/pull/1182&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;backport&lt;/a&gt; å›æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„ç‰ˆæœ¬å³å¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€è€ƒ&#34;&gt;
  æ€è€ƒ
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e6%80%9d%e8%80%83&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;åœ¨åæœŸè°ƒè¯•çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å¿˜è®°çœ‹ manual pageï¼Œä¸æ¸…æ¥šã€Œå‡½æ•°è¿”å›å€¼ conventionã€ ï¼ˆä¹Ÿå°±æ˜¯ï¼Œæ˜¾å¼è§„å®šè¿”å›å€¼ï¼šéœ€è¦è‡³å°‘èƒ½æ”¾ä¸‹ä¸€ä¸ª &lt;code&gt;ffi_arg&lt;/code&gt; è¿™ä¸€éƒ¨åˆ†ï¼‰ã€‚
ä½¿å¾—åç»­ debug è¿‡ç¨‹é‡åˆ°é˜»ç¢ï¼Œåœ¨åç»­çš„å·¥ä½œä¸­è¦æ³¨æ„æŸ¥é˜…ç›¸å…³æ–‡æ¡£ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥åŠï¼Œä»–ä»¬è‡ªå·±ä¸è·‘å•å…ƒæµ‹è¯•çš„å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« å’•å’•å’•äº†å¤§æ¦‚ä¿©æœˆæ‰ç»ˆäºå†™å®Œ :ï¼‰ ğŸ‰ğŸ‰ğŸ‰&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>è®°ä¸€æ¬¡ debug qmake</title>
      <link>https://mooody.me/posts/2022-04/archrv-qmake6/</link>
      <pubDate>Thu, 14 Apr 2022 00:32:37 +0100</pubDate>
      
      <guid>https://mooody.me/posts/2022-04/archrv-qmake6/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;åŸæœ¬æƒ³ç”©é”… Qtï¼Œä½†åæ¥å‘ç°&lt;del&gt;å°ä¸‘ç«Ÿæ˜¯ qemu&lt;/del&gt; :)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;æ­£ç‰‡å¼€å§‹&#34;&gt;
  æ­£ç‰‡å¼€å§‹
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e6%ad%a3%e7%89%87%e5%bc%80%e5%a7%8b&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;åˆæ¥ä¹åˆ° &lt;code&gt;PLCT::archrv-pkg&lt;/code&gt;ï¼Œä½œä¸ºæ–°äººæ€»æƒ³å¿«ç‚¹è´¡çŒ®ç‚¹ä»€ä¹ˆï¼Œäºæ˜¯å„ç§ç¿» build logã€‚&lt;/p&gt;
&lt;p&gt;qalculate-qt:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-log&#34; data-lang=&#34;log&#34;&gt;/usr/lib/qt6/mkspecs/features/toolchain.prf:76: Variable QMAKE_CXX.COMPILER_MACROS is not defined.
Project ERROR: failed to parse default search paths from compiler output
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ‰“åŒ…æœºæ‰”å‡ºäº†è¿™ä¹ˆä¸ªé”™è¯¯ï¼Œæ·±å— qmake å…¶å®³çš„æˆ‘çœ‹åˆ°è¿™å°±å‡†å¤‡å¼€ &lt;a href=&#34;https://bugreports.qt.io&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;bugreports.qt.io&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è½¬å¤´ä¸€æƒ³ï¼šè‚¯å®šç¾¤é‡Œçš„å¤§ä½¬æ—©å°±çœ‹åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œåº”è¯¥å·²ç»åœ¨ WIP äº†å§ï¼Œäºæ˜¯åœ¨ç¾¤æ¶ˆæ¯è®°å½•é‡Œæœäº†ä¸€ä¸‹ï¼Œ
å‘ç°æœç„¶æ—©åœ¨ä¸Šä¸ªæœˆ 24 å·ï¼ˆä¸¤å‘¨å‰å·¦å³ï¼‰å°±åœ¨è®¨è®ºè¿™ä¸ªé—®é¢˜äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¯æƒœæ²¡èƒ½è§£å†³ï¼Œç¿»è®°å½•è¯´æ˜¯ qemu é‡Œç‹¬æœ‰çš„é—®é¢˜ï¼Œæ¢åˆ°ç‰©ç†æœºä¸Šå°±æ²¡äº‹äº†ã€‚&lt;/p&gt;
&lt;p&gt;æŠ±ç€è¯•ä¸€è¯•ä¸‡ä¸€èƒ½ç»™ Qt æ°´ä¸ª bugreport çš„å¿ƒæ€ï¼Œæˆ‘æ‰“å¼€äº†è¿™ä¸ªæ–‡ä»¶ï¼š&lt;code&gt;features/toolchain.prf&lt;/code&gt; å¹¶æ‰¾åˆ°ç¬¬ 76 è¡Œï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-qmake&#34; data-lang=&#34;qmake&#34;&gt;73:         cache($${target_prefix}.$$v, set stash, $$v)
74:         $${target_prefix}.COMPILER_MACROS += $$v
75:     }
76:     cache($${target_prefix}.COMPILER_MACROS, set stash) &amp;lt;- è¿™é‡Œ
77: } else {
78:     # load from the cache
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¾ˆæ˜æ˜¾æ˜¯ä¸€ä¸ª qmake å˜é‡ &amp;ldquo;&lt;code&gt;æŸäº›ä¸œè¥¿.COMPILER_MACROS&lt;/code&gt;&amp;rdquo; çš„è§£å¼•ç”¨ï¼ˆå–å€¼ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®æŠ¥é”™èƒ½çœ‹å‡º &lt;code&gt;æŸäº›ä¸œè¥¿&lt;/code&gt; åº”è¯¥æ˜¯ &lt;code&gt;QMAKE_CXX&lt;/code&gt;ï¼Œäºæ˜¯ç»§ç»­å‘ä¸Šç¿»ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-qmake&#34; data-lang=&#34;qmake&#34;&gt;66: for (v, vars) {
67:    !contains(v, &amp;#34;[A-Z_]+ = .*&amp;#34;): next()
68:     # Set both &amp;lt;varname&amp;gt; for the outer scope ...
69:     eval($$v)
70:     v ~= s/ .*//
71:     isEmpty($$v): error(&amp;#34;Compiler produced empty value for $${v}.&amp;#34;)
72:     # ... and save QMAKE_(HOST_)?CXX.&amp;lt;varname&amp;gt; in the cache.
73:     cache($${target_prefix}.$$v, set stash, $$v)
74:     $${target_prefix}.COMPILER_MACROS += $$v
75: }
76: cache($${target_prefix}.COMPILER_MACROS, set stash) &amp;lt;- æ ¸çˆ†ä¸­å¿ƒ
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç¨æœ‰å¸¸è¯†çš„äººéƒ½çŸ¥é“è¿™æ˜¯ä¸ª for loopï¼Œæ ¹æ® L74 å¯ä»¥çœ‹å‡ºè¿™ä¸ªå¾ªç¯æ˜¯ç”¨æ¥å‘
&lt;code&gt;COMPILER_MACROS&lt;/code&gt; append ä¸€äº›å€¼ï¼Œæˆ‘æƒ³èµ·äº† log è°ƒè¯•å¤§æ³•ï¼Œäºæ˜¯çœ¼ç–¾æ‰‹å¿«å°±åœ¨è¿™é™„è¿‘åŠ äº†
å‡ ä¸ª &lt;code&gt;message(&amp;quot;....&amp;quot;)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;éšç€ qmake6 é‡æ–°è¿è¡Œï¼Œæˆ‘å‘ç°åœ¨ &lt;code&gt;for&lt;/code&gt; å¾ªç¯é‡Œå¹¶æ²¡æœ‰ä»»ä½•è¾“å‡ºå‡ºç°ï¼Œè¿™ä½¿äººä¸ç¦æ€€ç–‘è¿™ä¸ª
&lt;code&gt;for&lt;/code&gt; å¾ªç¯ç©¶ç«Ÿæœ‰æ²¡æœ‰è·‘ã€‚å¸¦ç€è¿™ä¸ªé—®é¢˜ï¼Œåˆåœ¨ &lt;code&gt;for&lt;/code&gt; ä¸Šé¢ä¸€è¡Œè¾“å‡º &lt;code&gt;vars&lt;/code&gt;ï¼Œä¹Ÿå°±æ˜¯å¾ªç¯å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è¿˜ç‰¹åœ°æ‰“äº†å¼•å·ï¼Œé¿å…è¾“å‡ºçš„æ˜¯ä¸ªç©ºæ ¼ç„¶åæ¶ˆå¤±åœ¨ Konsole å¤§æµ·ä¸­ï¼Œç»“æœå‘ç°è¿™ä¸ª &lt;code&gt;var&lt;/code&gt; é‡Œå•¥ä¹Ÿ
æ²¡æœ‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å’‹å°±æˆç©ºçš„äº†ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç»§ç»­å‘ä¸Šç¿»ï¼Œæ•´æ®µä»£ç è¢«åŒ…åœ¨äº†ä¸€ä¸ª &lt;code&gt;isEmpty($${target_prefix}.COMPILER_MACROS) {&lt;/code&gt;
åˆ†æ”¯ï¼Œè¯´æ˜è¿™ä¸ªå˜é‡ä¸ºç©ºï¼Œå…¶å®æ˜¯åœ¨é¢„æœŸæƒ…å†µå†…ã€‚ç´§æ¥ç€æ˜¯ä¸¤ä¸ªåˆ†æ”¯ï¼š&lt;code&gt;msvc&lt;/code&gt; å’Œ &lt;code&gt;gcc|ghs&lt;/code&gt; å¾ˆæ˜æ˜¾
åº”è¯¥æ˜¯èµ° &lt;code&gt;gcc&lt;/code&gt; åˆ†æ”¯ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-qmake&#34; data-lang=&#34;qmake&#34;&gt;63: } else: gcc|ghs {
64:     vars = $$qtVariablesFromGCC($$QMAKE_CXX)
65: }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ‰¾åˆ° &lt;code&gt;vars&lt;/code&gt; çš„æ¥æºäº†ï¼è¿™é‡Œè°ƒç”¨äº†ä¸€ä¸ªåä¸º &lt;code&gt;qtVariablesFromGCC&lt;/code&gt; çš„å‡½æ•°ï¼Œä¼ å…¥å•ä¸ªå‚æ•°
&lt;code&gt;$$QMAKE_CXX&lt;/code&gt;ï¼Œè¿”å›ä¸€ä¸ª list ï¼ˆä¹Ÿå°±æ˜¯ &lt;code&gt;vars&lt;/code&gt;ï¼‰ï¼Œäºæ˜¯ç»§ç»­è·Ÿè¿›å‡½æ•°å» debugã€‚&lt;/p&gt;
&lt;p&gt;å‡½æ•°å®šä¹‰å¾ˆç®€å•ï¼ˆèŠ‚çœåœ°æ–¹ç¨å¾®æ”¹äº†ä¸‹ç¼©è¿›ï¼‰ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-qmake&#34; data-lang=&#34;qmake&#34;&gt;37: defineReplace(qtVariablesFromGCC) {
38:   ret = $$system(&amp;#34;$$1 -E $$system_quote($$PWD/data/macros.cpp) \
39:     2&amp;gt;$$QMAKE_SYSTEM_NULL_DEVICE&amp;#34;, lines, ec)
40:   !equals(ec, 0): qtCompilerError($$1, $$ret)
41:   return($$ret)
42: }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å‡½æ•°å¼€å¤´ç¬¬ä¸€å¥è¯ä¸€ä¸ª &lt;code&gt;system&lt;/code&gt;ï¼Œæ„æ€æ˜¯è¦è°ƒç”¨ä¸ªå­è¿›ç¨‹ï¼Œç„¶åè¯»å–è¾“å‡ºã€‚40 è¡Œçš„åˆ¤æ–­ ec æŒ‰ç…§
æ ‡å‡†ç¼©å†™åº”è¯¥æ˜¯ &lt;code&gt;error code&lt;/code&gt;ï¼Œå…ˆçŒœåº”è¯¥æ˜¯ä¸ªè¿”å›å€¼ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯å¼€å§‹ &lt;code&gt;message()&lt;/code&gt; å¤§æ³•ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯å‘ç°è¿™ &lt;code&gt;ret&lt;/code&gt; ä¸ºç©ºï¼Œæˆ‘å°† &lt;code&gt;system()&lt;/code&gt; çš„å‚æ•°å•ç‹¬æ‹¿å‡ºæ¥è·‘ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;12
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;13
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;14
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# $$1 -E $$system_quote($$PWD/data/macros.cpp) 2&amp;gt;$$QMAKE_SYSTEM_NULL_DEVICE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# å‚æ•°æ›¿æ¢å¯å¾—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ c++ -E &lt;span style=&#34;color:#ff79c6&#34;&gt;$(&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;pwd&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt;/data/macros.cpp 2&amp;gt;/dev/null
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; &lt;span style=&#34;color:#6272a4&#34;&gt;# 0 &amp;#34;./macros.cpp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; &lt;span style=&#34;color:#6272a4&#34;&gt;# 0 &amp;#34;&amp;lt;built-in&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; &lt;span style=&#34;color:#6272a4&#34;&gt;# 0 &amp;#34;&amp;lt;command-line&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; &lt;span style=&#34;color:#6272a4&#34;&gt;# 1 &amp;#34;/usr/include/stdc-predef.h&amp;#34; 1 3 4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; &lt;span style=&#34;color:#6272a4&#34;&gt;# 0 &amp;#34;&amp;lt;command-line&amp;gt;&amp;#34; 2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; &lt;span style=&#34;color:#6272a4&#34;&gt;# 1 &amp;#34;./macros.cpp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;QT_COMPILER_STDCXX&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; 201703L
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; &lt;span style=&#34;color:#6272a4&#34;&gt;# 26 &amp;#34;./macros.cpp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;QMAKE_GCC_MAJOR_VERSION&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;11&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;QMAKE_GCC_MINOR_VERSION&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;QMAKE_GCC_PATCH_VERSION&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å°±æ˜¯é¢„å¤„ç†ç»“æœå˜›ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿›è¡Œäº†ä¸¤åˆ†é’Ÿï¼ˆæ²¡è®¡æ—¶ï¼‰çš„æ€è€ƒåï¼Œæˆ‘è®¤ä¸ºæ˜¯ qmake æ²¡èƒ½æ­£ç¡®æ‰§è¡Œ &lt;code&gt;system&lt;/code&gt; å‡½æ•°ï¼Œäºæ˜¯è¿˜æ˜¯å»
äº† &lt;a href=&#34;https://bugreports.qt.io&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;bugreports.qt.io&lt;/a&gt; æœç´¢ &lt;code&gt;qmake system&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://bugreports.qt.io/browse/QTBUG-98951&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;QTBUG-98951: qmake system() does not work under qemu-user&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™ä¸å°±æ˜¯æˆ‘é‡åˆ°çš„é—®é¢˜å—ï¼Ÿæ­£æ–‡é‡Œè¯´ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;work-around: configure with -no-feature-forkfd_pidfd&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;no-feature-forkfd_pidfd&lt;/code&gt; æ˜¯ä»€ä¹ˆ featureï¼Ÿ äºæ˜¯æˆ‘ç»§ç»­æŒ‰å…³é”®å­—æœç´¢ï¼Œæ‰¾åˆ°äº† &lt;a href=&#34;https://codereview.qt-project.org/c/qt/qtbase/&amp;#43;/313894&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Make usage of forkfd_pidfd in QProcess a configurable feature (#313894)&lt;/a&gt; ä¸­çš„ä¸€å¤„æ”¹åŠ¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;
&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;1
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;2
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;3
&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;
&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// QTBUG-86285
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;#if !QT_CONFIG(forkfd_pidfd)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&lt;/span&gt;    ffdflags &lt;span style=&#34;color:#ff79c6&#34;&gt;|=&lt;/span&gt; FFD_USE_FORK;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é‚£ä¹ˆå…³æ‰ &lt;code&gt;forkfd_pidfd&lt;/code&gt; å°±ä½¿ &lt;code&gt;!QT_CONFIG(forkfd_pidfd)&lt;/code&gt; ä¸º &lt;code&gt;TRUE&lt;/code&gt;ï¼Œä»è€Œå¼ºåˆ¶æ·»åŠ 
&lt;code&gt;FFD_USE_FORK&lt;/code&gt; flag ç»™äº† &lt;code&gt;ffdflags&lt;/code&gt;ï¼Œè€Œè¿™å°±åº”è¯¥æ˜¯é¿å¼€äº† qemu æœªèƒ½å®ç°çš„ä¸€ä¸ªåŠŸèƒ½å§ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–æ„Ÿè°¢è‚¥çŒ«æ‰¾åˆ°äº†å¯¹åº”ç»™ qemu çš„ &lt;a href=&#34;https://patchew.org/QEMU/mvm4kadwyrm.fsf@suse.de/&#34;  class=&#34;external-link&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;patch&lt;/a&gt;ï¼Œä½†å¾ˆå¯æƒœçš„æ˜¯æ²¡èƒ½åˆå¹¶ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç»å†äº†ä¸€ç•ªæŠ˜è…¾åï¼Œæˆ‘åœ¨æœ¬æœºåº”ç”¨äº†ç»™ qemu çš„ patchï¼Œå‘ç° qmake çš„ &lt;code&gt;system&lt;/code&gt; æœç„¶èƒ½æ­£ç¡®æ‰§è¡Œäº†ã€‚&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼Œä¸€ä¸ªç”± &lt;code&gt;qalculate-qt&lt;/code&gt; å¼•å‘çš„ï¼Œè¢«ä»¥ä¸ºæ˜¯ Qt bug çš„ï¼Œä½†å®é™…ä¸Šæ˜¯ qemu çš„é—®é¢˜ç»ˆäº
çœŸç›¸å¤§ç™½ :) æ’’èŠ±ï¼&lt;/p&gt;
&lt;h2 id=&#34;å°ç»“&#34;&gt;
  å°ç»“
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e5%b0%8f%e7%bb%93&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;ä»¥åé‡åˆ°é—®é¢˜è¿˜æ˜¯è¦å…ˆæœç´¢ï¼Œè™½è¯´æœ¬æ¬¡ qmake å±äºæç«¯è¾¹è§’é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¦–å…ˆæ˜¯ qmake ç°åœ¨ï¼ˆåº”è¯¥ï¼Ÿï¼‰å¾ˆå°‘äººç”¨äº†å§ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å…¶æ¬¡è¿˜æ˜¯ qemu-user ï¼ˆé systemï¼Œä¸Šç¯‡æ–‡ç« è¯´é“ ArchRV è¿˜æ²¡æœ‰èƒ½è·‘çš„ imgï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½†ç¡®å®ä»ç„¶æœ‰äººå…ˆé‡åˆ°äº†ï¼Œè€Œä¸”è¿›è¡Œäº†æ±‡æŠ¥å’Œ patch&lt;/p&gt;
&lt;p&gt;ä¸‹ä¸€ç¯‡æ–‡ç« ï¼ˆå¯èƒ½ï¼‰å†™å†™ Qt Webengine çš„ patch è¿‡ç¨‹ï¼ˆå¦‚æœæˆ‘èƒ½æ‰“å‡ºæ¥çš„è¯ï¼‰&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Qt 6.3 ä¸­ QML çš„å‘</title>
      <link>https://mooody.me/posts/2022-04/qt63-qmlimportscanner/</link>
      <pubDate>Sat, 02 Apr 2022 13:43:37 +0100</pubDate>
      
      <guid>https://mooody.me/posts/2022-04/qt63-qmlimportscanner/</guid>
      <description>&lt;h2 id=&#34;ä¼°è®¡æ˜¯-regression-äº†&#34;&gt;
  ä¼°è®¡æ˜¯ Regression äº†
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e4%bc%b0%e8%ae%a1%e6%98%af-regression-%e4%ba%86&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h2&gt;
&lt;h3 id=&#34;qmlimportscanner&#34;&gt;
  &lt;code&gt;qmlimportscanner&lt;/code&gt;
  &lt;a class=&#34;heading-link&#34; href=&#34;#qmlimportscanner&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œç”± &lt;code&gt;androiddeployqt&lt;/code&gt; è°ƒç”¨çš„ &lt;code&gt;qmlimportscanner&lt;/code&gt; æ‰¾ä¸åˆ°å°±åœ¨æœ¬ç›®å½•ä¸‹çš„ &lt;code&gt;QtGraphicalEffects&lt;/code&gt; QML Moduleã€‚&lt;/p&gt;
&lt;h3 id=&#34;android-å¹³å°é»‘å±å¡æ­»&#34;&gt;
  Android å¹³å°é»‘å±å¡æ­»
  &lt;a class=&#34;heading-link&#34; href=&#34;#android-%e5%b9%b3%e5%8f%b0%e9%bb%91%e5%b1%8f%e5%8d%a1%e6%ad%bb&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;å…¶æ¬¡ï¼Œå½“ä½¿ç”¨ Qt 6.3 ç¼–è¯‘å‡ºçš„ Android APK æ—¶ï¼Œæˆ‘çš„ &lt;code&gt;MoodyAPI Client&lt;/code&gt; ä¸€æ—¦é€€å‡ºå°±æ— æ³•å†è¿›å…¥ç•Œé¢ï¼ˆSigh&lt;/p&gt;
&lt;h3 id=&#34;è§£å†³æ–¹æ³•&#34;&gt;
  è§£å†³æ–¹æ³•
  &lt;a class=&#34;heading-link&#34; href=&#34;#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%b3%95&#34;&gt;
    &lt;i class=&#34;fa-solid fa-link&#34; aria-hidden=&#34;true&#34; title=&#34;é“¾æ¥åˆ°æ ‡é¢˜&#34;&gt;&lt;/i&gt;
    &lt;span class=&#34;sr-only&#34;&gt;é“¾æ¥åˆ°æ ‡é¢˜&lt;/span&gt;
  &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;&lt;del&gt;å›é€€åˆ° Qt6.2&lt;/del&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Press F to pay respects.&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
  </channel>
</rss>